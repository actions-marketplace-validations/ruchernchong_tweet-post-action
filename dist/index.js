(()=>{var e={7579:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const a=n(s(2037));const o=s(1562);function issueCommand(e,t,s){const r=new Command(e,t,s);process.stdout.write(r.toString()+a.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const l="::";class Command{constructor(e,t,s){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=s}toString(){let e=l+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const s in this.properties){if(this.properties.hasOwnProperty(s)){const r=this.properties[s];if(r){if(t){t=false}else{e+=","}e+=`${s}=${escapeProperty(r)}`}}}}e+=`${l}${escapeData(this.message)}`;return e}}function escapeData(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},386:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const o=s(7579);const l=s(8557);const u=s(1562);const c=n(s(2037));const h=n(s(1017));const d=s(6159);var f;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(f=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const s=u.toCommandValue(t);process.env[e]=s;const r=process.env["GITHUB_ENV"]||"";if(r){return l.issueFileCommand("ENV",l.prepareKeyValueMessage(e,t))}o.issueCommand("set-env",{name:e},s)}t.exportVariable=exportVariable;function setSecret(e){o.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){l.issueFileCommand("PATH",e)}else{o.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${h.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const s=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!s){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return s}return s.trim()}t.getInput=getInput;function getMultilineInput(e,t){const s=getInput(e,t).split("\n").filter((e=>e!==""));if(t&&t.trimWhitespace===false){return s}return s.map((e=>e.trim()))}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const s=["true","True","TRUE"];const r=["false","False","FALSE"];const i=getInput(e,t);if(s.includes(i))return true;if(r.includes(i))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){const s=process.env["GITHUB_OUTPUT"]||"";if(s){return l.issueFileCommand("OUTPUT",l.prepareKeyValueMessage(e,t))}process.stdout.write(c.EOL);o.issueCommand("set-output",{name:e},u.toCommandValue(t))}t.setOutput=setOutput;function setCommandEcho(e){o.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=f.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){o.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){o.issueCommand("error",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){o.issueCommand("warning",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){o.issueCommand("notice",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+c.EOL)}t.info=info;function startGroup(e){o.issue("group",e)}t.startGroup=startGroup;function endGroup(){o.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return a(this,void 0,void 0,(function*(){startGroup(e);let s;try{s=yield t()}finally{endGroup()}return s}))}t.group=group;function saveState(e,t){const s=process.env["GITHUB_STATE"]||"";if(s){return l.issueFileCommand("STATE",l.prepareKeyValueMessage(e,t))}o.issueCommand("save-state",{name:e},u.toCommandValue(t))}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return a(this,void 0,void 0,(function*(){return yield d.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var p=s(7502);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return p.summary}});var g=s(7502);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return g.markdownSummary}});var w=s(8258);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return w.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return w.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return w.toPlatformPath}})},8557:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.prepareKeyValueMessage=t.issueFileCommand=void 0;const a=n(s(7147));const o=n(s(2037));const l=s(6101);const u=s(1562);function issueFileCommand(e,t){const s=process.env[`GITHUB_${e}`];if(!s){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!a.existsSync(s)){throw new Error(`Missing file at path: ${s}`)}a.appendFileSync(s,`${u.toCommandValue(t)}${o.EOL}`,{encoding:"utf8"})}t.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(e,t){const s=`ghadelimiter_${l.v4()}`;const r=u.toCommandValue(t);if(e.includes(s)){throw new Error(`Unexpected input: name should not contain the delimiter "${s}"`)}if(r.includes(s)){throw new Error(`Unexpected input: value should not contain the delimiter "${s}"`)}return`${e}<<${s}${o.EOL}${r}${o.EOL}${s}`}t.prepareKeyValueMessage=prepareKeyValueMessage},6159:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const i=s(172);const n=s(7574);const a=s(386);class OidcClient{static createHttpClient(e=true,t=10){const s={allowRetries:e,maxRetries:t};return new i.HttpClient("actions/oidc-client",[new n.BearerCredentialHandler(OidcClient.getRequestToken())],s)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return r(this,void 0,void 0,(function*(){const s=OidcClient.createHttpClient();const r=yield s.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const i=(t=r.result)===null||t===void 0?void 0:t.value;if(!i){throw new Error("Response json body do not have ID Token field")}return i}))}static getIDToken(e){return r(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const s=encodeURIComponent(e);t=`${t}&audience=${s}`}a.debug(`ID token url is ${t}`);const s=yield OidcClient.getCall(t);a.setSecret(s);return s}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},8258:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const a=n(s(1017));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,a.sep)}t.toPlatformPath=toPlatformPath},7502:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const i=s(2037);const n=s(7147);const{access:a,appendFile:o,writeFile:l}=n.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return r(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield a(e,n.constants.R_OK|n.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,s={}){const r=Object.entries(s).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${r}>`}return`<${e}${r}>${t}</${e}>`}write(e){return r(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const s=yield this.filePath();const r=t?l:o;yield r(s,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return r(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(i.EOL)}addCodeBlock(e,t){const s=Object.assign({},t&&{lang:t});const r=this.wrap("pre",this.wrap("code",e),s);return this.addRaw(r).addEOL()}addList(e,t=false){const s=t?"ol":"ul";const r=e.map((e=>this.wrap("li",e))).join("");const i=this.wrap(s,r);return this.addRaw(i).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:s,colspan:r,rowspan:i}=e;const n=t?"th":"td";const a=Object.assign(Object.assign({},r&&{colspan:r}),i&&{rowspan:i});return this.wrap(n,s,a)})).join("");return this.wrap("tr",t)})).join("");const s=this.wrap("table",t);return this.addRaw(s).addEOL()}addDetails(e,t){const s=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(s).addEOL()}addImage(e,t,s){const{width:r,height:i}=s||{};const n=Object.assign(Object.assign({},r&&{width:r}),i&&{height:i});const a=this.wrap("img",null,Object.assign({src:e,alt:t},n));return this.addRaw(a).addEOL()}addHeading(e,t){const s=`h${t}`;const r=["h1","h2","h3","h4","h5","h6"].includes(s)?s:"h1";const i=this.wrap(r,e);return this.addRaw(i).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const s=Object.assign({},t&&{cite:t});const r=this.wrap("blockquote",e,s);return this.addRaw(r).addEOL()}addLink(e,t){const s=this.wrap("a",e,{href:t});return this.addRaw(s).addEOL()}}const u=new Summary;t.markdownSummary=u;t.summary=u},1562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},7574:function(e,t){"use strict";var s=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},172:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const o=n(s(3685));const l=n(s(5687));const u=n(s(4076));const c=n(s(778));var h;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(h=t.HttpCodes||(t.HttpCodes={}));var d;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(d=t.Headers||(t.Headers={}));var f;(function(e){e["ApplicationJson"]="application/json"})(f=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=u.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const p=[h.MovedPermanently,h.ResourceMoved,h.SeeOther,h.TemporaryRedirect,h.PermanentRedirect];const g=[h.BadGateway,h.ServiceUnavailable,h.GatewayTimeout];const w=["OPTIONS","GET","DELETE","HEAD"];const y=10;const _=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return a(this,void 0,void 0,(function*(){return new Promise((e=>a(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,s){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=s;if(s){if(s.ignoreSslError!=null){this._ignoreSslError=s.ignoreSslError}this._socketTimeout=s.socketTimeout;if(s.allowRedirects!=null){this._allowRedirects=s.allowRedirects}if(s.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=s.allowRedirectDowngrade}if(s.maxRedirects!=null){this._maxRedirects=Math.max(s.maxRedirects,0)}if(s.keepAlive!=null){this._keepAlive=s.keepAlive}if(s.allowRetries!=null){this._allowRetries=s.allowRetries}if(s.maxRetries!=null){this._maxRetries=s.maxRetries}}}options(e,t){return a(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return a(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return a(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,s){return a(this,void 0,void 0,(function*(){return this.request("POST",e,t,s||{})}))}patch(e,t,s){return a(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,s||{})}))}put(e,t,s){return a(this,void 0,void 0,(function*(){return this.request("PUT",e,t,s||{})}))}head(e,t){return a(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,s,r){return a(this,void 0,void 0,(function*(){return this.request(e,t,s,r)}))}getJson(e,t={}){return a(this,void 0,void 0,(function*(){t[d.Accept]=this._getExistingOrDefaultHeader(t,d.Accept,f.ApplicationJson);const s=yield this.get(e,t);return this._processResponse(s,this.requestOptions)}))}postJson(e,t,s={}){return a(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);s[d.Accept]=this._getExistingOrDefaultHeader(s,d.Accept,f.ApplicationJson);s[d.ContentType]=this._getExistingOrDefaultHeader(s,d.ContentType,f.ApplicationJson);const i=yield this.post(e,r,s);return this._processResponse(i,this.requestOptions)}))}putJson(e,t,s={}){return a(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);s[d.Accept]=this._getExistingOrDefaultHeader(s,d.Accept,f.ApplicationJson);s[d.ContentType]=this._getExistingOrDefaultHeader(s,d.ContentType,f.ApplicationJson);const i=yield this.put(e,r,s);return this._processResponse(i,this.requestOptions)}))}patchJson(e,t,s={}){return a(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);s[d.Accept]=this._getExistingOrDefaultHeader(s,d.Accept,f.ApplicationJson);s[d.ContentType]=this._getExistingOrDefaultHeader(s,d.ContentType,f.ApplicationJson);const i=yield this.patch(e,r,s);return this._processResponse(i,this.requestOptions)}))}request(e,t,s,r){return a(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const i=new URL(t);let n=this._prepareRequest(e,i,r);const a=this._allowRetries&&w.includes(e)?this._maxRetries+1:1;let o=0;let l;do{l=yield this.requestRaw(n,s);if(l&&l.message&&l.message.statusCode===h.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(l)){e=t;break}}if(e){return e.handleAuthentication(this,n,s)}else{return l}}let t=this._maxRedirects;while(l.message.statusCode&&p.includes(l.message.statusCode)&&this._allowRedirects&&t>0){const a=l.message.headers["location"];if(!a){break}const o=new URL(a);if(i.protocol==="https:"&&i.protocol!==o.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield l.readBody();if(o.hostname!==i.hostname){for(const e in r){if(e.toLowerCase()==="authorization"){delete r[e]}}}n=this._prepareRequest(e,o,r);l=yield this.requestRaw(n,s);t--}if(!l.message.statusCode||!g.includes(l.message.statusCode)){return l}o+=1;if(o<a){yield l.readBody();yield this._performExponentialBackoff(o)}}while(o<a);return l}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return a(this,void 0,void 0,(function*(){return new Promise(((s,r)=>{function callbackForResult(e,t){if(e){r(e)}else if(!t){r(new Error("Unknown error"))}else{s(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,s){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let r=false;function handleResult(e,t){if(!r){r=true;s(e,t)}}const i=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let n;i.on("socket",(e=>{n=e}));i.setTimeout(this._socketTimeout||3*6e4,(()=>{if(n){n.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));i.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){i.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){i.end()}));t.pipe(i)}else{i.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,s){const r={};r.parsedUrl=t;const i=r.parsedUrl.protocol==="https:";r.httpModule=i?l:o;const n=i?443:80;r.options={};r.options.host=r.parsedUrl.hostname;r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):n;r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||"");r.options.method=e;r.options.headers=this._mergeHeaders(s);if(this.userAgent!=null){r.options.headers["user-agent"]=this.userAgent}r.options.agent=this._getAgent(r.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(r.options)}}return r}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,s){let r;if(this.requestOptions&&this.requestOptions.headers){r=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||r||s}_getAgent(e){let t;const s=u.getProxyUrl(e);const r=s&&s.hostname;if(this._keepAlive&&r){t=this._proxyAgent}if(this._keepAlive&&!r){t=this._agent}if(t){return t}const i=e.protocol==="https:";let n=100;if(this.requestOptions){n=this.requestOptions.maxSockets||o.globalAgent.maxSockets}if(s&&s.hostname){const e={maxSockets:n,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`}),{host:s.hostname,port:s.port})};let r;const a=s.protocol==="https:";if(i){r=a?c.httpsOverHttps:c.httpsOverHttp}else{r=a?c.httpOverHttps:c.httpOverHttp}t=r(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:n};t=i?new l.Agent(e):new o.Agent(e);this._agent=t}if(!t){t=i?l.globalAgent:o.globalAgent}if(i&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return a(this,void 0,void 0,(function*(){e=Math.min(y,e);const t=_*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return a(this,void 0,void 0,(function*(){return new Promise(((s,r)=>a(this,void 0,void 0,(function*(){const i=e.message.statusCode||0;const n={statusCode:i,result:null,headers:{}};if(i===h.NotFound){s(n)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let a;let o;try{o=yield e.readBody();if(o&&o.length>0){if(t&&t.deserializeDates){a=JSON.parse(o,dateTimeDeserializer)}else{a=JSON.parse(o)}n.result=a}n.headers=e.message.headers}catch(e){}if(i>299){let e;if(a&&a.message){e=a.message}else if(o&&o.length>0){e=o}else{e=`Failed request: (${i})`}const t=new HttpClientError(e,i);t.result=n.result;r(t)}else{s(n)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,s)=>(t[s.toLowerCase()]=e[s],t)),{})},4076:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const s=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(s){return new URL(s)}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=e.hostname;if(isLoopbackAddress(t)){return true}const s=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!s){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}const i=[e.hostname.toUpperCase()];if(typeof r==="number"){i.push(`${i[0]}:${r}`)}for(const e of s.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(e==="*"||i.some((t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`)))){return true}}return false}t.checkBypass=checkBypass;function isLoopbackAddress(e){const t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}},2356:e=>{"use strict";e.exports=balanced;function balanced(e,t,s){if(e instanceof RegExp)e=maybeMatch(e,s);if(t instanceof RegExp)t=maybeMatch(t,s);var r=range(e,t,s);return r&&{start:r[0],end:r[1],pre:s.slice(0,r[0]),body:s.slice(r[0]+e.length,r[1]),post:s.slice(r[1]+t.length)}}function maybeMatch(e,t){var s=t.match(e);return s?s[0]:null}balanced.range=range;function range(e,t,s){var r,i,n,a,o;var l=s.indexOf(e);var u=s.indexOf(t,l+1);var c=l;if(l>=0&&u>0){if(e===t){return[l,u]}r=[];n=s.length;while(c>=0&&!o){if(c==l){r.push(c);l=s.indexOf(e,c+1)}else if(r.length==1){o=[r.pop(),u]}else{i=r.pop();if(i<n){n=i;a=u}u=s.indexOf(t,c+1)}c=l<u&&l>=0?l:u}if(r.length){o=[n,a]}}return o}},8349:(e,t,s)=>{var r=s(2356);e.exports=expandTop;var i="\0SLASH"+Math.random()+"\0";var n="\0OPEN"+Math.random()+"\0";var a="\0CLOSE"+Math.random()+"\0";var o="\0COMMA"+Math.random()+"\0";var l="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(i).split("\\{").join(n).split("\\}").join(a).split("\\,").join(o).split("\\.").join(l)}function unescapeBraces(e){return e.split(i).join("\\").split(n).join("{").split(a).join("}").split(o).join(",").split(l).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[];var s=r("{","}",e);if(!s)return e.split(",");var i=s.pre;var n=s.body;var a=s.post;var o=i.split(",");o[o.length-1]+="{"+n+"}";var l=parseCommaParts(a);if(a.length){o[o.length-1]+=l.shift();o.push.apply(o,l)}t.push.apply(t,o);return t}function expandTop(e){if(!e)return[];if(e.substr(0,2)==="{}"){e="\\{\\}"+e.substr(2)}return expand(escapeBraces(e),true).map(unescapeBraces)}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return e>=t}function expand(e,t){var s=[];var i=r("{","}",e);if(!i)return[e];var n=i.pre;var o=i.post.length?expand(i.post,false):[""];if(/\$$/.test(i.pre)){for(var l=0;l<o.length;l++){var u=n+"{"+i.body+"}"+o[l];s.push(u)}}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body);var h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body);var d=c||h;var f=i.body.indexOf(",")>=0;if(!d&&!f){if(i.post.match(/,.*\}/)){e=i.pre+"{"+i.body+a+i.post;return expand(e)}return[e]}var p;if(d){p=i.body.split(/\.\./)}else{p=parseCommaParts(i.body);if(p.length===1){p=expand(p[0],false).map(embrace);if(p.length===1){return o.map((function(e){return i.pre+p[0]+e}))}}}var g;if(d){var w=numeric(p[0]);var y=numeric(p[1]);var _=Math.max(p[0].length,p[1].length);var v=p.length==3?Math.abs(numeric(p[2])):1;var b=lte;var P=y<w;if(P){v*=-1;b=gte}var T=p.some(isPadded);g=[];for(var S=w;b(S,y);S+=v){var R;if(h){R=String.fromCharCode(S);if(R==="\\")R=""}else{R=String(S);if(T){var E=_-R.length;if(E>0){var O=new Array(E+1).join("0");if(S<0)R="-"+O+R.slice(1);else R=O+R}}}g.push(R)}}else{g=[];for(var k=0;k<p.length;k++){g.push.apply(g,expand(p[k],false))}}for(var k=0;k<g.length;k++){for(var l=0;l<o.length;l++){var u=n+g[k]+o[l];if(!t||d||u)s.push(u)}}}return s}},7483:(e,t,s)=>{const r=s(7147);const i=s(1017);const n=s(2037);const a=s(321);const o=a.version;const l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function parse(e){const t={};let s=e.toString();s=s.replace(/\r\n?/gm,"\n");let r;while((r=l.exec(s))!=null){const e=r[1];let s=r[2]||"";s=s.trim();const i=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2");if(i==='"'){s=s.replace(/\\n/g,"\n");s=s.replace(/\\r/g,"\r")}t[e]=s}return t}function _log(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}function _resolveHome(e){return e[0]==="~"?i.join(n.homedir(),e.slice(1)):e}function config(e){let t=i.resolve(process.cwd(),".env");let s="utf8";const n=Boolean(e&&e.debug);const a=Boolean(e&&e.override);if(e){if(e.path!=null){t=_resolveHome(e.path)}if(e.encoding!=null){s=e.encoding}}try{const e=u.parse(r.readFileSync(t,{encoding:s}));Object.keys(e).forEach((function(t){if(!Object.prototype.hasOwnProperty.call(process.env,t)){process.env[t]=e[t]}else{if(a===true){process.env[t]=e[t]}if(n){if(a===true){_log(`"${t}" is already defined in \`process.env\` and WAS overwritten`)}else{_log(`"${t}" is already defined in \`process.env\` and was NOT overwritten`)}}}}));return{parsed:e}}catch(e){if(n){_log(`Failed to load ${t} ${e.message}`)}return{error:e}}}const u={config:config,parse:parse};e.exports.config=u.config;e.exports.parse=u.parse;e.exports=u},8847:(e,t,s)=>{"use strict";const r=typeof process==="object"&&process?process:{stdout:null,stderr:null};const i=s(2361);const n=s(2781);const a=s(1576);const o=a.StringDecoder;const l=Symbol("EOF");const u=Symbol("maybeEmitEnd");const c=Symbol("emittedEnd");const h=Symbol("emittingEnd");const d=Symbol("emittedError");const f=Symbol("closed");const p=Symbol("read");const g=Symbol("flush");const w=Symbol("flushChunk");const y=Symbol("encoding");const _=Symbol("decoder");const v=Symbol("flowing");const b=Symbol("paused");const P=Symbol("resume");const T=Symbol("buffer");const S=Symbol("pipes");const R=Symbol("bufferLength");const E=Symbol("bufferPush");const O=Symbol("bufferShift");const k=Symbol("objectMode");const A=Symbol("destroyed");const L=Symbol("error");const M=Symbol("emitData");const x=Symbol("emitEnd");const D=Symbol("emitEnd2");const C=Symbol("async");const j=Symbol("abort");const q=Symbol("aborted");const I=Symbol("signal");const defer=e=>Promise.resolve().then(e);const U=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const F=U&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const V=U&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{constructor(e,t,s){this.src=e;this.dest=t;this.opts=s;this.ondrain=()=>e[P]();t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,t,s){super(e,t,s);this.proxyErrors=e=>t.emit("error",e);e.on("error",this.proxyErrors)}}class Minipass extends n{constructor(e){super();this[v]=false;this[b]=false;this[S]=[];this[T]=[];this[k]=e&&e.objectMode||false;if(this[k])this[y]=null;else this[y]=e&&e.encoding||null;if(this[y]==="buffer")this[y]=null;this[C]=e&&!!e.async||false;this[_]=this[y]?new o(this[y]):null;this[l]=false;this[c]=false;this[h]=false;this[f]=false;this[d]=null;this.writable=true;this.readable=true;this[R]=0;this[A]=false;if(e&&e.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[T]})}if(e&&e.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[S]})}this[I]=e&&e.signal;this[q]=false;if(this[I]){this[I].addEventListener("abort",(()=>this[j]()));if(this[I].aborted){this[j]()}}}get bufferLength(){return this[R]}get encoding(){return this[y]}set encoding(e){if(this[k])throw new Error("cannot set encoding in objectMode");if(this[y]&&e!==this[y]&&(this[_]&&this[_].lastNeed||this[R]))throw new Error("cannot change encoding");if(this[y]!==e){this[_]=e?new o(e):null;if(this[T].length)this[T]=this[T].map((e=>this[_].write(e)))}this[y]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[k]}set objectMode(e){this[k]=this[k]||!!e}get["async"](){return this[C]}set["async"](e){this[C]=this[C]||!!e}[j](){this[q]=true;this.emit("abort",this[I].reason);this.destroy(this[I].reason)}get aborted(){return this[q]}set aborted(e){}write(e,t,s){if(this[q])return false;if(this[l])throw new Error("write after end");if(this[A]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")s=t,t="utf8";if(!t)t="utf8";const r=this[C]?defer:e=>e();if(!this[k]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(this[k]){if(this.flowing&&this[R]!==0)this[g](true);if(this.flowing)this.emit("data",e);else this[E](e);if(this[R]!==0)this.emit("readable");if(s)r(s);return this.flowing}if(!e.length){if(this[R]!==0)this.emit("readable");if(s)r(s);return this.flowing}if(typeof e==="string"&&!(t===this[y]&&!this[_].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[y])e=this[_].write(e);if(this.flowing&&this[R]!==0)this[g](true);if(this.flowing)this.emit("data",e);else this[E](e);if(this[R]!==0)this.emit("readable");if(s)r(s);return this.flowing}read(e){if(this[A])return null;if(this[R]===0||e===0||e>this[R]){this[u]();return null}if(this[k])e=null;if(this[T].length>1&&!this[k]){if(this.encoding)this[T]=[this[T].join("")];else this[T]=[Buffer.concat(this[T],this[R])]}const t=this[p](e||null,this[T][0]);this[u]();return t}[p](e,t){if(e===t.length||e===null)this[O]();else{this[T][0]=t.slice(e);t=t.slice(0,e);this[R]-=e}this.emit("data",t);if(!this[T].length&&!this[l])this.emit("drain");return t}end(e,t,s){if(typeof e==="function")s=e,e=null;if(typeof t==="function")s=t,t="utf8";if(e)this.write(e,t);if(s)this.once("end",s);this[l]=true;this.writable=false;if(this.flowing||!this[b])this[u]();return this}[P](){if(this[A])return;this[b]=false;this[v]=true;this.emit("resume");if(this[T].length)this[g]();else if(this[l])this[u]();else this.emit("drain")}resume(){return this[P]()}pause(){this[v]=false;this[b]=true}get destroyed(){return this[A]}get flowing(){return this[v]}get paused(){return this[b]}[E](e){if(this[k])this[R]+=1;else this[R]+=e.length;this[T].push(e)}[O](){if(this[k])this[R]-=1;else this[R]-=this[T][0].length;return this[T].shift()}[g](e){do{}while(this[w](this[O]())&&this[T].length);if(!e&&!this[T].length&&!this[l])this.emit("drain")}[w](e){this.emit("data",e);return this.flowing}pipe(e,t){if(this[A])return;const s=this[c];t=t||{};if(e===r.stdout||e===r.stderr)t.end=false;else t.end=t.end!==false;t.proxyErrors=!!t.proxyErrors;if(s){if(t.end)e.end()}else{this[S].push(!t.proxyErrors?new Pipe(this,e,t):new PipeProxyErrors(this,e,t));if(this[C])defer((()=>this[P]()));else this[P]()}return e}unpipe(e){const t=this[S].find((t=>t.dest===e));if(t){this[S].splice(this[S].indexOf(t),1);t.unpipe()}}addListener(e,t){return this.on(e,t)}on(e,t){const s=super.on(e,t);if(e==="data"&&!this[S].length&&!this.flowing)this[P]();else if(e==="readable"&&this[R]!==0)super.emit("readable");else if(isEndish(e)&&this[c]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[d]){if(this[C])defer((()=>t.call(this,this[d])));else t.call(this,this[d])}return s}get emittedEnd(){return this[c]}[u](){if(!this[h]&&!this[c]&&!this[A]&&this[T].length===0&&this[l]){this[h]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[f])this.emit("close");this[h]=false}}emit(e,t,...s){if(e!=="error"&&e!=="close"&&e!==A&&this[A])return;else if(e==="data"){return!this[k]&&!t?false:this[C]?defer((()=>this[M](t))):this[M](t)}else if(e==="end"){return this[x]()}else if(e==="close"){this[f]=true;if(!this[c]&&!this[A])return;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[d]=t;super.emit(L,t);const e=!this[I]||this.listeners("error").length?super.emit("error",t):false;this[u]();return e}else if(e==="resume"){const e=super.emit("resume");this[u]();return e}else if(e==="finish"||e==="prefinish"){const t=super.emit(e);this.removeAllListeners(e);return t}const r=super.emit(e,t,...s);this[u]();return r}[M](e){for(const t of this[S]){if(t.dest.write(e)===false)this.pause()}const t=super.emit("data",e);this[u]();return t}[x](){if(this[c])return;this[c]=true;this.readable=false;if(this[C])defer((()=>this[D]()));else this[D]()}[D](){if(this[_]){const e=this[_].end();if(e){for(const t of this[S]){t.dest.write(e)}super.emit("data",e)}}for(const e of this[S]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}collect(){const e=[];if(!this[k])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[k])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[k]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[k]?Promise.reject(new Error("cannot concat in objectMode")):this[y]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(A,(()=>t(new Error("stream destroyed"))));this.on("error",(e=>t(e)));this.on("end",(()=>e()))}))}[F](){let e=false;const stop=()=>{this.pause();e=true;return Promise.resolve({done:true})};const next=()=>{if(e)return stop();const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[l])return stop();let s=null;let r=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(A,ondestroy);stop();r(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(A,ondestroy);this.pause();s({value:e,done:!!this[l]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(A,ondestroy);stop();s({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t;s=e;this.once(A,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[F](){return this}}}[V](){let e=false;const stop=()=>{this.pause();this.removeListener(L,stop);this.removeListener(A,stop);this.removeListener("end",stop);e=true;return{done:true}};const next=()=>{if(e)return stop();const t=this.read();return t===null?stop():{value:t}};this.once("end",stop);this.once(L,stop);this.once(A,stop);return{next:next,throw:stop,return:stop,[V](){return this}}}destroy(e){if(this[A]){if(e)this.emit("error",e);else this.emit(A);return this}this[A]=true;this[T].length=0;this[R]=0;if(typeof this.close==="function"&&!this[f])this.close();if(e)this.emit("error",e);else this.emit(A);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof n||e instanceof i&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}e.exports=Minipass},778:(e,t,s)=>{e.exports=s(5442)},5442:(e,t,s)=>{"use strict";var r=s(1808);var i=s(4404);var n=s(3685);var a=s(5687);var o=s(2361);var l=s(9491);var u=s(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=n.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=n.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=a.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=a.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||n.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,s,r,i){var n=toOptions(s,r,i);for(var a=0,o=t.requests.length;a<o;++a){var l=t.requests[a];if(l.host===n.host&&l.port===n.port){t.requests.splice(a,1);l.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}u.inherits(TunnelingAgent,o.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,s,r){var i=this;var n=mergeOptions({request:e},i.options,toOptions(t,s,r));if(i.sockets.length>=this.maxSockets){i.requests.push(n);return}i.createSocket(n,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){i.emit("free",t,n)}function onCloseOrRemove(e){i.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var s=this;var r={};s.sockets.push(r);var i=mergeOptions({},s.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){i.localAddress=e.localAddress}if(i.proxyAuth){i.headers=i.headers||{};i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")}c("making CONNECT request");var n=s.request(i);n.useChunkedEncodingByDefault=false;n.once("response",onResponse);n.once("upgrade",onUpgrade);n.once("connect",onConnect);n.once("error",onError);n.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,s){process.nextTick((function(){onConnect(e,t,s)}))}function onConnect(i,a,o){n.removeAllListeners();a.removeAllListeners();if(i.statusCode!==200){c("tunneling socket could not be established, statusCode=%d",i.statusCode);a.destroy();var l=new Error("tunneling socket could not be established, "+"statusCode="+i.statusCode);l.code="ECONNRESET";e.request.emit("error",l);s.removeSocket(r);return}if(o.length>0){c("got illegal response body from proxy");a.destroy();var l=new Error("got illegal response body from proxy");l.code="ECONNRESET";e.request.emit("error",l);s.removeSocket(r);return}c("tunneling connection has established");s.sockets[s.sockets.indexOf(r)]=a;return t(a)}function onError(t){n.removeAllListeners();c("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var i=new Error("tunneling socket could not be established, "+"cause="+t.message);i.code="ECONNRESET";e.request.emit("error",i);s.removeSocket(r)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var s=this.requests.shift();if(s){this.createSocket(s,(function(e){s.request.onSocket(e)}))}};function createSecureSocket(e,t){var s=this;TunnelingAgent.prototype.createSocket.call(s,e,(function(r){var n=e.request.getHeader("host");var a=mergeOptions({},s.options,{socket:r,servername:n?n.replace(/:.*$/,""):e.host});var o=i.connect(0,a);s.sockets[s.sockets.indexOf(r)]=o;t(o)}))}function toOptions(e,t,s){if(typeof e==="string"){return{host:e,port:t,localAddress:s}}return e}function mergeOptions(e){for(var t=1,s=arguments.length;t<s;++t){var r=arguments[t];if(typeof r==="object"){var i=Object.keys(r);for(var n=0,a=i.length;n<a;++n){var o=i[n];if(r[o]!==undefined){e[o]=r[o]}}}}return e}var c;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){c=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{c=function(){}}t.debug=c},5184:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FormDataHelper=void 0;const r=s(5134);class FormDataHelper{constructor(){this._boundary="";this._chunks=[]}bodyAppend(...e){const t=e.map((e=>e instanceof Buffer?e:Buffer.from(e)));this._chunks.push(...t)}append(e,t,s){const r=t instanceof Buffer?t:t.toString();const i=this.getMultipartHeader(e,r,s);this.bodyAppend(i,r,FormDataHelper.LINE_BREAK)}getHeaders(){return{"content-type":"multipart/form-data; boundary="+this.getBoundary()}}getLength(){return this._chunks.reduce(((e,t)=>e+t.length),this.getMultipartFooter().length)}getBuffer(){const e=[...this._chunks,this.getMultipartFooter()];const t=Buffer.alloc(this.getLength());let s=0;for(const r of e){for(let e=0;e<r.length;s++,e++){t[s]=r[e]}}return t}getBoundary(){if(!this._boundary){this.generateBoundary()}return this._boundary}generateBoundary(){let e="--------------------------";for(let t=0;t<24;t++){e+=Math.floor(Math.random()*10).toString(16)}this._boundary=e}getMultipartHeader(e,t,s){if(!s){s=t instanceof Buffer?FormDataHelper.DEFAULT_CONTENT_TYPE:""}const i={"Content-Disposition":["form-data",`name="${e}"`],"Content-Type":s};let n="";for(const[e,t]of Object.entries(i)){if(!t.length){continue}n+=e+": "+(0,r.arrayWrap)(t).join("; ")+FormDataHelper.LINE_BREAK}return"--"+this.getBoundary()+FormDataHelper.LINE_BREAK+n+FormDataHelper.LINE_BREAK}getMultipartFooter(){if(this._footerChunk){return this._footerChunk}return this._footerChunk=Buffer.from("--"+this.getBoundary()+"--"+FormDataHelper.LINE_BREAK)}}t.FormDataHelper=FormDataHelper;FormDataHelper.LINE_BREAK="\r\n";FormDataHelper.DEFAULT_CONTENT_TYPE="application/octet-stream"},7966:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.OAuth1Helper=void 0;const a=n(s(6113));class OAuth1Helper{constructor(e){this.nonceLength=32;this.consumerKeys=e.consumerKeys}static percentEncode(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}hash(e,t){return a.createHmac("sha1",t).update(e).digest("base64")}authorize(e,t={}){const s={oauth_consumer_key:this.consumerKeys.key,oauth_nonce:this.getNonce(),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:this.getTimestamp(),oauth_version:"1.0"};if(t.key!==undefined){s.oauth_token=t.key}if(!e.data){e.data={}}s.oauth_signature=this.getSignature(e,t.secret,s);return s}toHeader(e){const t=sortObject(e);let s="OAuth ";for(const e of t){if(e.key.indexOf("oauth_")!==0){continue}s+=OAuth1Helper.percentEncode(e.key)+'="'+OAuth1Helper.percentEncode(e.value)+'",'}return{Authorization:s.slice(0,s.length-1)}}getNonce(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let s=0;s<this.nonceLength;s++){t+=e[Math.trunc(Math.random()*e.length)]}return t}getTimestamp(){return Math.trunc((new Date).getTime()/1e3)}getSignature(e,t,s){return this.hash(this.getBaseString(e,s),this.getSigningKey(t))}getSigningKey(e){return OAuth1Helper.percentEncode(this.consumerKeys.secret)+"&"+OAuth1Helper.percentEncode(e||"")}getBaseString(e,t){return e.method.toUpperCase()+"&"+OAuth1Helper.percentEncode(this.getBaseUrl(e.url))+"&"+OAuth1Helper.percentEncode(this.getParameterString(e,t))}getParameterString(e,t){const s=sortObject(percentEncodeData(mergeObject(t,mergeObject(e.data,deParamUrl(e.url)))));let r="";for(const{key:e,value:t}of s){if(t&&Array.isArray(t)){t.sort();let s="";t.forEach(((r,i)=>{s+=e+"="+r;if(i<t.length){s+="&"}}));r+=s}else{r+=e+"="+t+"&"}}return r.slice(0,r.length-1)}getBaseUrl(e){return e.split("?")[0]}}t.OAuth1Helper=OAuth1Helper;t["default"]=OAuth1Helper;function mergeObject(e,t){return{...e||{},...t||{}}}function sortObject(e){return Object.keys(e).sort().map((t=>({key:t,value:e[t]})))}function deParam(e){const t=e.split("&");const s={};for(const e of t){const[t,r=""]=e.split("=");if(s[t]){if(!Array.isArray(s[t])){s[t]=[s[t]]}s[t].push(decodeURIComponent(r))}else{s[t]=decodeURIComponent(r)}}return s}function deParamUrl(e){const t=e.split("?");if(t.length===1)return{};return deParam(t[1])}function percentEncodeData(e){const t={};for(const s in e){let r=e[s];if(r&&Array.isArray(r)){r=r.map((e=>OAuth1Helper.percentEncode(e)))}else{r=OAuth1Helper.percentEncode(r)}t[OAuth1Helper.percentEncode(s)]=r}return t}},5036:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.OAuth2Helper=void 0;const a=n(s(6113));class OAuth2Helper{static getCodeVerifier(){return this.generateRandomString(128)}static getCodeChallengeFromVerifier(e){return this.escapeBase64Url(a.createHash("sha256").update(e).digest("base64"))}static getAuthHeader(e,t){const s=encodeURIComponent(e)+":"+encodeURIComponent(t);return Buffer.from(s).toString("base64")}static generateRandomString(e){let t="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";for(let r=0;r<e;r++){t+=s[Math.floor(Math.random()*s.length)]}return t}static escapeBase64Url(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}}t.OAuth2Helper=OAuth2Helper},4850:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.RequestHandlerHelper=void 0;const o=s(5687);const l=s(5528);const u=a(s(3906));const c=s(2308);const h=n(s(9796));class RequestHandlerHelper{constructor(e){this.requestData=e;this.requestErrorHandled=false;this.responseData=[]}get hrefPathname(){const e=this.requestData.url;return e.hostname+e.pathname}isCompressionDisabled(){return!this.requestData.compression||this.requestData.compression==="identity"}isFormEncodedEndpoint(){return this.requestData.url.href.startsWith("https://api.twitter.com/oauth/")}createRequestError(e){if(l.TwitterApiV2Settings.debug){l.TwitterApiV2Settings.logger.log("Request error:",e)}return new c.ApiRequestError("Request failed.",{request:this.req,error:e})}createPartialResponseError(e,t){const s=this.res;let r=`Request failed with partial response with HTTP code ${s.statusCode}`;if(t){r+=" (connection abruptly closed)"}else{r+=" (parse error)"}return new c.ApiPartialResponseError(r,{request:this.req,response:this.res,responseError:e,rawContent:Buffer.concat(this.responseData).toString()})}formatV1Errors(e){return e.map((({code:e,message:t})=>`${t} (Twitter code ${e})`)).join(", ")}formatV2Error(e){return`${e.title}: ${e.detail} (see ${e.type})`}createResponseError({res:e,data:t,rateLimit:s,code:r}){var i;if(l.TwitterApiV2Settings.debug){l.TwitterApiV2Settings.logger.log(`Request failed with code ${r}, data:`,t);l.TwitterApiV2Settings.logger.log("Response headers:",e.headers)}let n=`Request failed with code ${r}`;if((i=t===null||t===void 0?void 0:t.errors)===null||i===void 0?void 0:i.length){const e=t.errors;if("code"in e[0]){n+=" - "+this.formatV1Errors(e)}else{n+=" - "+this.formatV2Error(t)}}return new c.ApiResponseError(n,{code:r,data:t,headers:e.headers,request:this.req,response:e,rateLimit:s})}getResponseDataStream(e){if(this.isCompressionDisabled()){return e}const t=(e.headers["content-encoding"]||"identity").trim().toLowerCase();if(t==="br"){const t=h.createBrotliDecompress({flush:h.constants.BROTLI_OPERATION_FLUSH,finishFlush:h.constants.BROTLI_OPERATION_FLUSH});e.pipe(t);return t}if(t==="gzip"){const t=h.createGunzip({flush:h.constants.Z_SYNC_FLUSH,finishFlush:h.constants.Z_SYNC_FLUSH});e.pipe(t);return t}if(t==="deflate"){const t=h.createInflate({flush:h.constants.Z_SYNC_FLUSH,finishFlush:h.constants.Z_SYNC_FLUSH});e.pipe(t);return t}return e}detectResponseType(e){var t,s;if(((t=e.headers["content-type"])===null||t===void 0?void 0:t.includes("application/json"))||((s=e.headers["content-type"])===null||s===void 0?void 0:s.includes("application/problem+json"))){return"json"}else if(this.isFormEncodedEndpoint()){return"url"}return"text"}getParsedResponse(e){const t=this.responseData;const s=this.requestData.forceParseMode||this.detectResponseType(e);if(s==="buffer"){return Buffer.concat(t)}else if(s==="text"){return Buffer.concat(t).toString()}else if(s==="json"){const e=Buffer.concat(t).toString();return e.length?JSON.parse(e):undefined}else if(s==="url"){const e=Buffer.concat(t).toString();const s={};for(const[t,r]of new URLSearchParams(e)){s[t]=r}return s}else{return undefined}}getRateLimitFromResponse(e){let t=undefined;if(e.headers["x-rate-limit-limit"]){t={limit:Number(e.headers["x-rate-limit-limit"]),remaining:Number(e.headers["x-rate-limit-remaining"]),reset:Number(e.headers["x-rate-limit-reset"])};if(this.requestData.rateLimitSaver){this.requestData.rateLimitSaver(t)}}return t}onSocketEventHandler(e,t){t.on("close",this.onSocketCloseHandler.bind(this,e))}onSocketCloseHandler(e){this.req.removeAllListeners("timeout");const t=this.res;if(t){return}if(!this.requestErrorHandled){return e(this.createRequestError(new Error("Socket closed without any information.")))}}requestErrorHandler(e,t){var s,r;(r=(s=this.requestData).requestEventDebugHandler)===null||r===void 0?void 0:r.call(s,"request-error",{requestError:t});this.requestErrorHandled=true;e(this.createRequestError(t))}timeoutErrorHandler(){this.requestErrorHandled=true;this.req.destroy(new Error("Request timeout."))}classicResponseHandler(e,t,s){this.res=s;const r=this.getResponseDataStream(s);r.on("data",(e=>this.responseData.push(e)));r.on("end",this.onResponseEndHandler.bind(this,e,t));r.on("close",this.onResponseCloseHandler.bind(this,e,t));if(this.requestData.requestEventDebugHandler){this.requestData.requestEventDebugHandler("response",{res:s});s.on("aborted",(e=>this.requestData.requestEventDebugHandler("response-aborted",{error:e})));s.on("error",(e=>this.requestData.requestEventDebugHandler("response-error",{error:e})));s.on("close",(()=>this.requestData.requestEventDebugHandler("response-close",{data:this.responseData})));s.on("end",(()=>this.requestData.requestEventDebugHandler("response-end")))}}onResponseEndHandler(e,t){const s=this.getRateLimitFromResponse(this.res);let r;try{r=this.getParsedResponse(this.res)}catch(e){t(this.createPartialResponseError(e,false));return}const i=this.res.statusCode;if(i>=400){t(this.createResponseError({data:r,res:this.res,rateLimit:s,code:i}));return}if(l.TwitterApiV2Settings.debug){l.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]: Request succeeds with code ${this.res.statusCode}`);l.TwitterApiV2Settings.logger.log("Response body:",r)}e({data:r,headers:this.res.headers,rateLimit:s})}onResponseCloseHandler(e,t){const s=this.res;if(s.aborted){try{this.getParsedResponse(this.res);return this.onResponseEndHandler(e,t)}catch(e){return t(this.createPartialResponseError(e,true))}}if(!s.complete){return t(this.createPartialResponseError(new Error("Response has been interrupted before response could be parsed."),true))}}streamResponseHandler(e,t,s){const r=s.statusCode;if(r<400){if(l.TwitterApiV2Settings.debug){l.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]: Request succeeds with code ${s.statusCode} (starting stream)`)}const t=this.getResponseDataStream(s);e({req:this.req,res:t,originalResponse:s,requestData:this.requestData})}else{this.classicResponseHandler((()=>undefined),t,s)}}debugRequest(){const e=this.requestData.url;l.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]`,this.requestData.options);if(e.search){l.TwitterApiV2Settings.logger.log("Request parameters:",[...e.searchParams.entries()].map((([e,t])=>`${e}: ${t}`)))}if(this.requestData.body){l.TwitterApiV2Settings.logger.log("Request body:",this.requestData.body)}}buildRequest(){var e;const t=this.requestData.url;const s=t.username?`${t.username}:${t.password}`:undefined;const r=(e=this.requestData.options.headers)!==null&&e!==void 0?e:{};if(this.requestData.compression===true||this.requestData.compression==="brotli"){r["accept-encoding"]="br;q=1.0, gzip;q=0.8, deflate;q=0.5, *;q=0.1"}else if(this.requestData.compression==="gzip"){r["accept-encoding"]="gzip;q=1, deflate;q=0.5, *;q=0.1"}else if(this.requestData.compression==="deflate"){r["accept-encoding"]="deflate;q=1, *;q=0.1"}if(l.TwitterApiV2Settings.debug){this.debugRequest()}this.req=(0,o.request)({...this.requestData.options,host:t.hostname,port:t.port||undefined,path:t.pathname+t.search,protocol:t.protocol,auth:s,headers:r})}registerRequestEventDebugHandlers(e){e.on("close",(()=>this.requestData.requestEventDebugHandler("close")));e.on("abort",(()=>this.requestData.requestEventDebugHandler("abort")));e.on("socket",(e=>{this.requestData.requestEventDebugHandler("socket",{socket:e});e.on("error",(t=>this.requestData.requestEventDebugHandler("socket-error",{socket:e,error:t})));e.on("connect",(()=>this.requestData.requestEventDebugHandler("socket-connect",{socket:e})));e.on("close",(t=>this.requestData.requestEventDebugHandler("socket-close",{socket:e,withError:t})));e.on("end",(()=>this.requestData.requestEventDebugHandler("socket-end",{socket:e})));e.on("lookup",((...t)=>this.requestData.requestEventDebugHandler("socket-lookup",{socket:e,data:t})));e.on("timeout",(()=>this.requestData.requestEventDebugHandler("socket-timeout",{socket:e})))}))}makeRequest(){this.buildRequest();return new Promise(((e,t)=>{const s=this.req;s.on("error",this.requestErrorHandler.bind(this,t));s.on("socket",this.onSocketEventHandler.bind(this,t));s.on("response",this.classicResponseHandler.bind(this,e,t));if(this.requestData.options.timeout){s.on("timeout",this.timeoutErrorHandler.bind(this))}if(this.requestData.requestEventDebugHandler){this.registerRequestEventDebugHandlers(s)}if(this.requestData.body){s.write(this.requestData.body)}s.end()}))}async makeRequestAsStream(){const{req:e,res:t,requestData:s,originalResponse:r}=await this.makeRequestAndResolveWhenReady();return new u.default(s,{req:e,res:t,originalResponse:r})}makeRequestAndResolveWhenReady(){this.buildRequest();return new Promise(((e,t)=>{const s=this.req;s.on("error",this.requestErrorHandler.bind(this,t));s.on("response",this.streamResponseHandler.bind(this,e,t));if(this.requestData.body){s.write(this.requestData.body)}s.end()}))}}t.RequestHandlerHelper=RequestHandlerHelper;t["default"]=RequestHandlerHelper},3371:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.ClientRequestMaker=void 0;const i=s(2308);const n=r(s(3906));const a=s(7084);const o=s(5134);const l=r(s(7966));const u=r(s(4850));const c=r(s(3948));const h=s(5036);class ClientRequestMaker{constructor(e){this.rateLimits={};this.clientSettings={};if(e){this.clientSettings=e}}getRateLimits(){return this.rateLimits}saveRateLimit(e,t){this.rateLimits[e]=t}async send(e){var t,s,r,i,n;if((t=this.clientSettings.plugins)===null||t===void 0?void 0:t.length){const t=await this.applyPreRequestConfigHooks(e);if(t){return t}}const o=this.getHttpRequestArgs(e);const l={method:o.method,headers:o.headers,timeout:e.timeout,agent:this.clientSettings.httpAgent};const h=e.enableRateLimitSave!==false;if(o.body){c.default.setBodyLengthHeader(l,o.body)}if((s=this.clientSettings.plugins)===null||s===void 0?void 0:s.length){await this.applyPreRequestHooks(e,o,l)}let d=new u.default({url:o.url,options:l,body:o.body,rateLimitSaver:h?this.saveRateLimit.bind(this,o.rawUrl):undefined,requestEventDebugHandler:e.requestEventDebugHandler,compression:(i=(r=e.compression)!==null&&r!==void 0?r:this.clientSettings.compression)!==null&&i!==void 0?i:true,forceParseMode:e.forceParseMode}).makeRequest();if((0,a.hasRequestErrorPlugins)(this)){d=this.applyResponseErrorHooks(e,o,l,d)}const f=await d;if((n=this.clientSettings.plugins)===null||n===void 0?void 0:n.length){const t=await this.applyPostRequestHooks(e,o,l,f);if(t){return t.value}}return f}sendStream(e){var t,s;if(this.clientSettings.plugins){this.applyPreStreamRequestConfigHooks(e)}const r=this.getHttpRequestArgs(e);const i={method:r.method,headers:r.headers,agent:this.clientSettings.httpAgent};const a=e.enableRateLimitSave!==false;const o=e.autoConnect!==false;if(r.body){c.default.setBodyLengthHeader(i,r.body)}const l={url:r.url,options:i,body:r.body,rateLimitSaver:a?this.saveRateLimit.bind(this,r.rawUrl):undefined,payloadIsError:e.payloadIsError,compression:(s=(t=e.compression)!==null&&t!==void 0?t:this.clientSettings.compression)!==null&&s!==void 0?s:true};const u=new n.default(l);if(!o){return u}return u.connect()}initializeToken(e){if(typeof e==="string"){this.bearerToken=e}else if(typeof e==="object"&&"appKey"in e){this.consumerToken=e.appKey;this.consumerSecret=e.appSecret;if(e.accessToken&&e.accessSecret){this.accessToken=e.accessToken;this.accessSecret=e.accessSecret}this._oauth=this.buildOAuth()}else if(typeof e==="object"&&"username"in e){const t=encodeURIComponent(e.username)+":"+encodeURIComponent(e.password);this.basicToken=Buffer.from(t).toString("base64")}else if(typeof e==="object"&&"clientId"in e){this.clientId=e.clientId;this.clientSecret=e.clientSecret}}getActiveTokens(){if(this.bearerToken){return{type:"oauth2",bearerToken:this.bearerToken}}else if(this.basicToken){return{type:"basic",token:this.basicToken}}else if(this.consumerSecret&&this._oauth){return{type:"oauth-1.0a",appKey:this.consumerToken,appSecret:this.consumerSecret,accessToken:this.accessToken,accessSecret:this.accessSecret}}else if(this.clientId){return{type:"oauth2-user",clientId:this.clientId}}return{type:"none"}}buildOAuth(){if(!this.consumerSecret||!this.consumerToken)throw new Error("Invalid consumer tokens");return new l.default({consumerKeys:{key:this.consumerToken,secret:this.consumerSecret}})}getOAuthAccessTokens(){if(!this.accessSecret||!this.accessToken)return;return{key:this.accessToken,secret:this.accessSecret}}getPlugins(){var e;return(e=this.clientSettings.plugins)!==null&&e!==void 0?e:[]}hasPlugins(){var e;return!!((e=this.clientSettings.plugins)===null||e===void 0?void 0:e.length)}async applyPluginMethod(e,t){var s;let r;for(const n of this.getPlugins()){const a=await((s=n[e])===null||s===void 0?void 0:s.call(n,t));if(a&&a instanceof i.TwitterApiPluginResponseOverride){r=a}}return r}writeAuthHeaders({headers:e,bodyInSignature:t,url:s,method:r,query:i,body:n}){e={...e};if(this.bearerToken){e.Authorization="Bearer "+this.bearerToken}else if(this.basicToken){e.Authorization="Basic "+this.basicToken}else if(this.clientId&&this.clientSecret){e.Authorization="Basic "+h.OAuth2Helper.getAuthHeader(this.clientId,this.clientSecret)}else if(this.consumerSecret&&this._oauth){const a=t?c.default.mergeQueryAndBodyForOAuth(i,n):i;const o=this._oauth.authorize({url:s.toString(),method:r,data:a},this.getOAuthAccessTokens());e={...e,...this._oauth.toHeader(o)}}return e}getUrlObjectFromUrlString(e){if(!e.startsWith("http")){e="https://"+e}return new URL(e)}getHttpRequestArgs({url:e,method:t,query:s={},body:r={},headers:i,forceBodyMode:n,enableAuth:a,params:l}){let u=undefined;t=t.toUpperCase();i=i!==null&&i!==void 0?i:{};if(!i["x-user-agent"]){i["x-user-agent"]="Node.twitter-api-v2"}const h=this.getUrlObjectFromUrlString(e);const d=h.origin+h.pathname;if(l){c.default.applyRequestParametersToUrl(h,l)}const f=c.default.formatQueryToString(s);c.default.moveUrlQueryParamsIntoObject(h,f);if(!(r instanceof Buffer)){(0,o.trimUndefinedProperties)(r)}const p=n!==null&&n!==void 0?n:c.default.autoDetectBodyType(h);if(a!==false){const e=ClientRequestMaker.BODY_METHODS.has(t)&&p==="url";i=this.writeAuthHeaders({headers:i,bodyInSignature:e,method:t,query:f,url:h,body:r})}if(ClientRequestMaker.BODY_METHODS.has(t)){u=c.default.constructBodyParams(r,i,p)||undefined}c.default.addQueryParamsToUrl(h,f);return{rawUrl:d,url:h,method:t,headers:i,body:u}}async applyPreRequestConfigHooks(e){var t;const s=this.getUrlObjectFromUrlString(e.url);for(const r of this.getPlugins()){const i=await((t=r.onBeforeRequestConfig)===null||t===void 0?void 0:t.call(r,{client:this,url:s,params:e}));if(i){return i}}}applyPreStreamRequestConfigHooks(e){var t;const s=this.getUrlObjectFromUrlString(e.url);for(const r of this.getPlugins()){(t=r.onBeforeStreamRequestConfig)===null||t===void 0?void 0:t.call(r,{client:this,url:s,params:e})}}async applyPreRequestHooks(e,t,s){await this.applyPluginMethod("onBeforeRequest",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:s})}async applyPostRequestHooks(e,t,s,r){return await this.applyPluginMethod("onAfterRequest",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:s,response:r})}applyResponseErrorHooks(e,t,s,r){return r.catch(a.applyResponseHooks.bind(this,e,t,s))}}t.ClientRequestMaker=ClientRequestMaker;ClientRequestMaker.BODY_METHODS=new Set(["POST","PUT","PATCH"])},3948:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.RequestParamHelpers=void 0;const i=s(5184);const n=r(s(7966));class RequestParamHelpers{static formatQueryToString(e){const t={};for(const s in e){if(typeof e[s]==="string"){t[s]=e[s]}else if(typeof e[s]!=="undefined"){t[s]=String(e[s])}}return t}static autoDetectBodyType(e){if(e.pathname.startsWith("/2/")||e.pathname.startsWith("/labs/2/")){if(e.password.startsWith("/2/oauth2")){return"url"}return"json"}if(e.hostname==="upload.twitter.com"){if(e.pathname==="/1.1/media/upload.json"){return"form-data"}return"json"}const t=e.pathname.split("/1.1/",2)[1];if(this.JSON_1_1_ENDPOINTS.has(t)){return"json"}return"url"}static addQueryParamsToUrl(e,t){const s=Object.entries(t);if(s.length){let t="";for(const[e,r]of s){t+=(t.length?"&":"?")+`${n.default.percentEncode(e)}=${n.default.percentEncode(r)}`}e.search=t}}static constructBodyParams(e,t,s){if(e instanceof Buffer){return e}if(s==="json"){if(!t["content-type"]){t["content-type"]="application/json;charset=UTF-8"}return JSON.stringify(e)}else if(s==="url"){if(!t["content-type"]){t["content-type"]="application/x-www-form-urlencoded;charset=UTF-8"}if(Object.keys(e).length){return new URLSearchParams(e).toString().replace(/\*/g,"%2A")}return""}else if(s==="raw"){throw new Error("You can only use raw body mode with Buffers. To give a string, use Buffer.from(str).")}else{const s=new i.FormDataHelper;for(const t in e){s.append(t,e[t])}if(!t["content-type"]){const e=s.getHeaders();t["content-type"]=e["content-type"]}return s.getBuffer()}}static setBodyLengthHeader(e,t){var s;e.headers=(s=e.headers)!==null&&s!==void 0?s:{};if(typeof t==="string"){e.headers["content-length"]=Buffer.byteLength(t)}else{e.headers["content-length"]=t.length}}static isOAuthSerializable(e){return!(e instanceof Buffer)}static mergeQueryAndBodyForOAuth(e,t){const s={};for(const t in e){s[t]=e[t]}if(this.isOAuthSerializable(t)){for(const e in t){const r=t[e];if(this.isOAuthSerializable(r)){s[e]=typeof r==="object"&&r!==null&&"toString"in r?r.toString():r}}}return s}static moveUrlQueryParamsIntoObject(e,t){for(const[s,r]of e.searchParams){t[s]=r}e.search="";return e}static applyRequestParametersToUrl(e,t){e.pathname=e.pathname.replace(/:([A-Z_-]+)/gi,((e,s)=>{if(t[s]!==undefined){return String(t[s])}return e}));return e}}t.RequestParamHelpers=RequestParamHelpers;RequestParamHelpers.JSON_1_1_ENDPOINTS=new Set(["direct_messages/events/new.json","direct_messages/welcome_messages/new.json","direct_messages/welcome_messages/rules/new.json","media/metadata/create.json","collections/entries/curate.json"]);t["default"]=RequestParamHelpers},7713:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r=s(3371);const i=s(5134);const n=s(8468);class TwitterApiBase{constructor(e,t={}){this._currentUser=null;this._currentUserV2=null;if(e instanceof TwitterApiBase){this._requestMaker=e._requestMaker}else{this._requestMaker=new r.ClientRequestMaker(t);this._requestMaker.initializeToken(e)}}setPrefix(e){this._prefix=e}cloneWithPrefix(e){const t=this.constructor(this);t.setPrefix(e);return t}getActiveTokens(){return this._requestMaker.getActiveTokens()}getPlugins(){return this._requestMaker.getPlugins()}getPluginOfType(e){return this.getPlugins().find((t=>t instanceof e))}hasHitRateLimit(e){var t;if(this.isRateLimitStatusObsolete(e)){return false}return((t=this.getLastRateLimitStatus(e))===null||t===void 0?void 0:t.remaining)===0}isRateLimitStatusObsolete(e){const t=this.getLastRateLimitStatus(e);if(t===undefined){return true}return t.reset*1e3<Date.now()}getLastRateLimitStatus(e){const t=e.match(/^https?:\/\//)?e:this._prefix+e;return this._requestMaker.getRateLimits()[t]}getCurrentUserObject(e=false){if(!e&&this._currentUser){if(this._currentUser.value){return Promise.resolve(this._currentUser.value)}return this._currentUser.promise}this._currentUser=(0,i.sharedPromise)((()=>this.get("account/verify_credentials.json",{tweet_mode:"extended"},{prefix:n.API_V1_1_PREFIX})));return this._currentUser.promise}getCurrentUserV2Object(e=false){if(!e&&this._currentUserV2){if(this._currentUserV2.value){return Promise.resolve(this._currentUserV2.value)}return this._currentUserV2.promise}this._currentUserV2=(0,i.sharedPromise)((()=>this.get("users/me",undefined,{prefix:n.API_V2_PREFIX})));return this._currentUserV2.promise}async get(e,t={},{fullResponse:s,prefix:r=this._prefix,...i}={}){if(r)e=r+e;const n=await this._requestMaker.send({url:e,method:"GET",query:t,...i});return s?n:n.data}async delete(e,t={},{fullResponse:s,prefix:r=this._prefix,...i}={}){if(r)e=r+e;const n=await this._requestMaker.send({url:e,method:"DELETE",query:t,...i});return s?n:n.data}async post(e,t,{fullResponse:s,prefix:r=this._prefix,...i}={}){if(r)e=r+e;const n=await this._requestMaker.send({url:e,method:"POST",body:t,...i});return s?n:n.data}async put(e,t,{fullResponse:s,prefix:r=this._prefix,...i}={}){if(r)e=r+e;const n=await this._requestMaker.send({url:e,method:"PUT",body:t,...i});return s?n:n.data}async patch(e,t,{fullResponse:s,prefix:r=this._prefix,...i}={}){if(r)e=r+e;const n=await this._requestMaker.send({url:e,method:"PATCH",body:t,...i});return s?n:n.data}getStream(e,t,{prefix:s=this._prefix,...r}={}){return this._requestMaker.sendStream({url:s?s+e:e,method:"GET",query:t,...r})}postStream(e,t,{prefix:s=this._prefix,...r}={}){return this._requestMaker.sendStream({url:s?s+e:e,method:"POST",body:t,...r})}}t["default"]=TwitterApiBase},2641:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(7713));class TwitterApiSubClient extends i.default{constructor(e){if(!(e instanceof i.default)){throw new Error("You must instance SubTwitterApi instance from existing TwitterApi instance.")}super(e)}}t["default"]=TwitterApiSubClient},7357:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiReadOnly=t.TwitterApiReadWrite=t.TwitterApi=void 0;const i=r(s(1063));const n=r(s(2464));const a=r(s(3699));class TwitterApi extends a.default{get v1(){if(this._v1)return this._v1;return this._v1=new i.default(this)}get v2(){if(this._v2)return this._v2;return this._v2=new n.default(this)}get readWrite(){return this}static getErrors(e){var t;if(typeof e!=="object")return[];if(!("data"in e))return[];return(t=e.data.errors)!==null&&t!==void 0?t:[]}static getProfileImageInSize(e,t){const s=e.split("/").pop();const r=["normal","bigger","mini"];let i=e;for(const t of r){if(s.includes(`_${t}`)){i=e.replace(`_${t}`,"");break}}if(t==="original"){return i}const n=i.lastIndexOf(".");if(n!==-1){const e=i.slice(n+1);return i.slice(0,n)+"_"+t+"."+e}else{return i+"_"+t}}}t.TwitterApi=TwitterApi;var o=s(3699);Object.defineProperty(t,"TwitterApiReadWrite",{enumerable:true,get:function(){return r(o).default}});var l=s(4665);Object.defineProperty(t,"TwitterApiReadOnly",{enumerable:true,get:function(){return r(l).default}});t["default"]=TwitterApi},4665:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(7357));const n=r(s(7713));const a=r(s(8422));const o=r(s(889));const l=s(5036);const u=r(s(3948));class TwitterApiReadOnly extends n.default{get v1(){if(this._v1)return this._v1;return this._v1=new a.default(this)}get v2(){if(this._v2)return this._v2;return this._v2=new o.default(this)}async currentUser(e=false){return await this.getCurrentUserObject(e)}async currentUserV2(e=false){return await this.getCurrentUserV2Object(e)}search(e,t){return this.v2.search(e,t)}async generateAuthLink(e="oob",{authAccessType:t,linkMode:s="authenticate",forceLogin:r,screenName:i}={}){const n=await this.post("https://api.twitter.com/oauth/request_token",{oauth_callback:e,x_auth_access_type:t});let a=`https://api.twitter.com/oauth/${s}?oauth_token=${encodeURIComponent(n.oauth_token)}`;if(r!==undefined){a+=`&force_login=${encodeURIComponent(r)}`}if(i!==undefined){a+=`&screen_name=${encodeURIComponent(i)}`}if(this._requestMaker.hasPlugins()){this._requestMaker.applyPluginMethod("onOAuth1RequestToken",{client:this._requestMaker,url:a,oauthResult:n})}return{url:a,...n}}async login(e){const t=this.getActiveTokens();if(t.type!=="oauth-1.0a")throw new Error("You must setup TwitterApi instance with consumer keys to accept OAuth 1.0 login");const s=await this.post("https://api.twitter.com/oauth/access_token",{oauth_token:t.accessToken,oauth_verifier:e});const r=new i.default({appKey:t.appKey,appSecret:t.appSecret,accessToken:s.oauth_token,accessSecret:s.oauth_token_secret},this._requestMaker.clientSettings);return{accessToken:s.oauth_token,accessSecret:s.oauth_token_secret,userId:s.user_id,screenName:s.screen_name,client:r}}async appLogin(){const e=this.getActiveTokens();if(e.type!=="oauth-1.0a")throw new Error("You must setup TwitterApi instance with consumer keys to accept app-only login");const t=new i.default({username:e.appKey,password:e.appSecret});const s=await t.post("https://api.twitter.com/oauth2/token",{grant_type:"client_credentials"});return new i.default(s.access_token,this._requestMaker.clientSettings)}generateOAuth2AuthLink(e,t={}){var s,r;if(!this._requestMaker.clientId){throw new Error("Twitter API instance is not initialized with client ID. You can find your client ID in Twitter Developer Portal. "+"Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })")}const i=(s=t.state)!==null&&s!==void 0?s:l.OAuth2Helper.generateRandomString(32);const n=l.OAuth2Helper.getCodeVerifier();const a=l.OAuth2Helper.getCodeChallengeFromVerifier(n);const o=(r=t.scope)!==null&&r!==void 0?r:"";const c=Array.isArray(o)?o.join(" "):o;const h=new URL("https://twitter.com/i/oauth2/authorize");const d={response_type:"code",client_id:this._requestMaker.clientId,redirect_uri:e,state:i,code_challenge:a,code_challenge_method:"s256",scope:c};u.default.addQueryParamsToUrl(h,d);const f={url:h.toString(),state:i,codeVerifier:n,codeChallenge:a};if(this._requestMaker.hasPlugins()){this._requestMaker.applyPluginMethod("onOAuth2RequestToken",{client:this._requestMaker,result:f,redirectUri:e})}return f}async loginWithOAuth2({code:e,codeVerifier:t,redirectUri:s}){if(!this._requestMaker.clientId){throw new Error("Twitter API instance is not initialized with client ID. "+"Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })")}const r=await this.post("https://api.twitter.com/2/oauth2/token",{code:e,code_verifier:t,redirect_uri:s,grant_type:"authorization_code",client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret});return this.parseOAuth2AccessTokenResult(r)}async refreshOAuth2Token(e){if(!this._requestMaker.clientId){throw new Error("Twitter API instance is not initialized with client ID. "+"Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })")}const t=await this.post("https://api.twitter.com/2/oauth2/token",{refresh_token:e,grant_type:"refresh_token",client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret});return this.parseOAuth2AccessTokenResult(t)}async revokeOAuth2Token(e,t="access_token"){if(!this._requestMaker.clientId){throw new Error("Twitter API instance is not initialized with client ID. "+"Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })")}return await this.post("https://api.twitter.com/2/oauth2/revoke",{client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret,token:e,token_type_hint:t})}parseOAuth2AccessTokenResult(e){const t=new i.default(e.access_token,this._requestMaker.clientSettings);const s=e.scope.split(" ").filter((e=>e));return{client:t,expiresIn:e.expires_in,accessToken:e.access_token,scope:s,refreshToken:e.refresh_token}}}t["default"]=TwitterApiReadOnly},3699:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(5833));const n=r(s(6480));const a=r(s(4665));class TwitterApiReadWrite extends a.default{get v1(){if(this._v1)return this._v1;return this._v1=new i.default(this)}get v2(){if(this._v2)return this._v2;return this._v2=new n.default(this)}get readOnly(){return this}}t["default"]=TwitterApiReadWrite},8468:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.API_V1_1_STREAM_PREFIX=t.API_V1_1_UPLOAD_PREFIX=t.API_V1_1_PREFIX=t.API_V2_LABS_PREFIX=t.API_V2_PREFIX=void 0;t.API_V2_PREFIX="https://api.twitter.com/2/";t.API_V2_LABS_PREFIX="https://api.twitter.com/labs/2/";t.API_V1_1_PREFIX="https://api.twitter.com/1.1/";t.API_V1_1_UPLOAD_PREFIX="https://upload.twitter.com/1.1/";t.API_V1_1_STREAM_PREFIX="https://stream.twitter.com/1.1/"},5134:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.safeDeprecationWarning=t.hasMultipleItems=t.isTweetStreamV2ErrorPayload=t.trimUndefinedProperties=t.arrayWrap=t.sharedPromise=void 0;const r=s(5528);function sharedPromise(e){const t={value:undefined,promise:e().then((e=>{t.value=e;return e}))};return t}t.sharedPromise=sharedPromise;function arrayWrap(e){if(Array.isArray(e)){return e}return[e]}t.arrayWrap=arrayWrap;function trimUndefinedProperties(e){for(const t in e){if(e[t]===undefined)delete e[t]}}t.trimUndefinedProperties=trimUndefinedProperties;function isTweetStreamV2ErrorPayload(e){return typeof e==="object"&&"errors"in e&&!("data"in e)}t.isTweetStreamV2ErrorPayload=isTweetStreamV2ErrorPayload;function hasMultipleItems(e){if(Array.isArray(e)&&e.length>1){return true}return e.toString().includes(",")}t.hasMultipleItems=hasMultipleItems;const i=new Set;function safeDeprecationWarning(e){if(typeof console==="undefined"||!console.warn||!r.TwitterApiV2Settings.deprecationWarnings){return}const t=`${e.instance}-${e.method}-${e.problem}`;if(i.has(t)){return}const s=`[twitter-api-v2] Deprecation warning: In ${e.instance}.${e.method}() call`+`, ${e.problem}.\n${e.resolution}.`;console.warn(s);console.warn("To disable this message, import variable TwitterApiV2Settings from twitter-api-v2 and set TwitterApiV2Settings.deprecationWarnings to false.");i.add(t)}t.safeDeprecationWarning=safeDeprecationWarning},6845:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var a=s(7357);Object.defineProperty(t,"default",{enumerable:true,get:function(){return n(a).default}});i(s(7357),t);i(s(1063),t);i(s(2464),t);i(s(7269),t);i(s(4176),t);i(s(2308),t);i(s(909),t);i(s(3906),t);i(s(5528),t)},7747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PreviousableTwitterPaginator=t.TwitterPaginator=void 0;class TwitterPaginator{constructor({realData:e,rateLimit:t,instance:s,queryParams:r,sharedParams:i}){this._maxResultsWhenFetchLast=100;this._realData=e;this._rateLimit=t;this._instance=s;this._queryParams=r;this._sharedParams=i}get _isRateLimitOk(){if(!this._rateLimit){return true}const e=this._rateLimit.reset*1e3;if(e<Date.now()){return true}return this._rateLimit.remaining>0}makeRequest(e){return this._instance.get(this.getEndpoint(),e,{fullResponse:true,params:this._sharedParams})}makeNewInstanceFromResult(e,t){return new this.constructor({realData:e.data,rateLimit:e.rateLimit,instance:this._instance,queryParams:t,sharedParams:this._sharedParams})}getEndpoint(){return this._endpoint}injectQueryParams(e){return{...e?{max_results:e}:{},...this._queryParams}}async next(e){const t=this.getNextQueryParams(e);const s=await this.makeRequest(t);return this.makeNewInstanceFromResult(s,t)}async fetchNext(e){const t=this.getNextQueryParams(e);const s=await this.makeRequest(t);await this.refreshInstanceFromResult(s,true);return this}async fetchLast(e=Infinity){let t=this.getNextQueryParams(this._maxResultsWhenFetchLast);let s=0;while(s<e&&this._isRateLimitOk){const e=await this.makeRequest(t);await this.refreshInstanceFromResult(e,true);s+=this.getPageLengthFromRequest(e);if(this.isFetchLastOver(e)){break}t=this.getNextQueryParams(this._maxResultsWhenFetchLast)}return this}get rateLimit(){var e;return{...(e=this._rateLimit)!==null&&e!==void 0?e:{}}}get data(){return this._realData}get done(){return!this.canFetchNextPage(this._realData)}*[Symbol.iterator](){yield*this.getItemArray()}async*[Symbol.asyncIterator](){yield*this.getItemArray();let e=this;let t=this.canFetchNextPage(this._realData);while(t&&this._isRateLimitOk&&e.getItemArray().length>0){const s=await e.next(this._maxResultsWhenFetchLast);this.refreshInstanceFromResult({data:s._realData,headers:{},rateLimit:s._rateLimit},true);t=this.canFetchNextPage(s._realData);const r=s.getItemArray();yield*r;e=s}}async*fetchAndIterate(){for(const e of this.getItemArray()){yield[e,this]}let e=this;let t=this.canFetchNextPage(this._realData);while(t&&this._isRateLimitOk&&e.getItemArray().length>0){const s=await e.next(this._maxResultsWhenFetchLast);this.refreshInstanceFromResult({data:s._realData,headers:{},rateLimit:s._rateLimit},true);t=this.canFetchNextPage(s._realData);for(const e of s.getItemArray()){yield[e,s]}this._rateLimit=s._rateLimit;e=s}}}t.TwitterPaginator=TwitterPaginator;class PreviousableTwitterPaginator extends TwitterPaginator{async previous(e){const t=this.getPreviousQueryParams(e);const s=await this.makeRequest(t);return this.makeNewInstanceFromResult(s,t)}async fetchPrevious(e){const t=this.getPreviousQueryParams(e);const s=await this.makeRequest(t);await this.refreshInstanceFromResult(s,false);return this}}t.PreviousableTwitterPaginator=PreviousableTwitterPaginator;t["default"]=TwitterPaginator},9494:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WelcomeDmV1Paginator=t.DmEventsV1Paginator=void 0;const r=s(137);class DmEventsV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="direct_messages/events/list.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.events.push(...s.events);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.events.length}getItemArray(){return this.events}get events(){return this._realData.events}}t.DmEventsV1Paginator=DmEventsV1Paginator;class WelcomeDmV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="direct_messages/welcome_messages/list.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.welcome_messages.push(...s.welcome_messages);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.welcome_messages.length}getItemArray(){return this.welcomeMessages}get welcomeMessages(){return this._realData.welcome_messages}}t.WelcomeDmV1Paginator=WelcomeDmV1Paginator},1182:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConversationDMTimelineV2Paginator=t.OneToOneDMTimelineV2Paginator=t.FullDMTimelineV2Paginator=t.DMTimelineV2Paginator=void 0;const r=s(7624);class DMTimelineV2Paginator extends r.TimelineV2Paginator{getItemArray(){return this.events}get events(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}}t.DMTimelineV2Paginator=DMTimelineV2Paginator;class FullDMTimelineV2Paginator extends DMTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="dm_events"}}t.FullDMTimelineV2Paginator=FullDMTimelineV2Paginator;class OneToOneDMTimelineV2Paginator extends DMTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="dm_conversations/with/:participant_id/dm_events"}}t.OneToOneDMTimelineV2Paginator=OneToOneDMTimelineV2Paginator;class ConversationDMTimelineV2Paginator extends DMTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="dm_conversations/:dm_conversation_id/dm_events"}}t.ConversationDMTimelineV2Paginator=ConversationDMTimelineV2Paginator},4589:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UserFollowerIdsV1Paginator=t.UserFollowerListV1Paginator=void 0;const r=s(137);class UserFollowerListV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="followers/list.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.users.push(...s.users);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}t.UserFollowerListV1Paginator=UserFollowerListV1Paginator;class UserFollowerIdsV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="followers/ids.json";this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.ids.push(...s.ids);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.UserFollowerIdsV1Paginator=UserFollowerIdsV1Paginator},917:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UserFollowersIdsV1Paginator=t.UserFriendListV1Paginator=void 0;const r=s(137);class UserFriendListV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="friends/list.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.users.push(...s.users);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}t.UserFriendListV1Paginator=UserFriendListV1Paginator;class UserFollowersIdsV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="friends/ids.json";this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.ids.push(...s.ids);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.UserFollowersIdsV1Paginator=UserFollowersIdsV1Paginator},909:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});i(s(2665),t);i(s(7747),t);i(s(9494),t);i(s(8463),t);i(s(2336),t);i(s(4472),t);i(s(1157),t);i(s(1345),t);i(s(3969),t);i(s(917),t);i(s(4589),t)},1345:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ListSubscribersV1Paginator=t.ListMembersV1Paginator=t.ListSubscriptionsV1Paginator=t.ListOwnershipsV1Paginator=t.ListMembershipsV1Paginator=void 0;const r=s(137);class ListListsV1Paginator extends r.CursoredV1Paginator{refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.lists.push(...s.lists);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.lists.length}getItemArray(){return this.lists}get lists(){return this._realData.lists}}class ListMembershipsV1Paginator extends ListListsV1Paginator{constructor(){super(...arguments);this._endpoint="lists/memberships.json"}}t.ListMembershipsV1Paginator=ListMembershipsV1Paginator;class ListOwnershipsV1Paginator extends ListListsV1Paginator{constructor(){super(...arguments);this._endpoint="lists/ownerships.json"}}t.ListOwnershipsV1Paginator=ListOwnershipsV1Paginator;class ListSubscriptionsV1Paginator extends ListListsV1Paginator{constructor(){super(...arguments);this._endpoint="lists/subscriptions.json"}}t.ListSubscriptionsV1Paginator=ListSubscriptionsV1Paginator;class ListUsersV1Paginator extends r.CursoredV1Paginator{refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.users.push(...s.users);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}class ListMembersV1Paginator extends ListUsersV1Paginator{constructor(){super(...arguments);this._endpoint="lists/members.json"}}t.ListMembersV1Paginator=ListMembersV1Paginator;class ListSubscribersV1Paginator extends ListUsersV1Paginator{constructor(){super(...arguments);this._endpoint="lists/subscribers.json"}}t.ListSubscribersV1Paginator=ListSubscribersV1Paginator},3969:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UserListFollowedV2Paginator=t.UserListMembershipsV2Paginator=t.UserOwnedListsV2Paginator=void 0;const r=s(7624);class ListTimelineV2Paginator extends r.TimelineV2Paginator{getItemArray(){return this.lists}get lists(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}}class UserOwnedListsV2Paginator extends ListTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/owned_lists"}}t.UserOwnedListsV2Paginator=UserOwnedListsV2Paginator;class UserListMembershipsV2Paginator extends ListTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/list_memberships"}}t.UserListMembershipsV2Paginator=UserListMembershipsV2Paginator;class UserListFollowedV2Paginator extends ListTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/followed_lists"}}t.UserListFollowedV2Paginator=UserListFollowedV2Paginator},8463:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MuteUserIdsV1Paginator=t.MuteUserListV1Paginator=void 0;const r=s(137);class MuteUserListV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="mutes/users/list.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.users.push(...s.users);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}t.MuteUserListV1Paginator=MuteUserListV1Paginator;class MuteUserIdsV1Paginator extends r.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="mutes/users/ids.json";this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.ids.push(...s.ids);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.MuteUserIdsV1Paginator=MuteUserIdsV1Paginator},137:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.CursoredV1Paginator=void 0;const i=r(s(7747));class CursoredV1Paginator extends i.default{getNextQueryParams(e){var t;return{...this._queryParams,cursor:(t=this._realData.next_cursor_str)!==null&&t!==void 0?t:this._realData.next_cursor,...e?{count:e}:{}}}isFetchLastOver(e){return!this.canFetchNextPage(e.data)}canFetchNextPage(e){return!this.isNextCursorInvalid(e.next_cursor)||!this.isNextCursorInvalid(e.next_cursor_str)}isNextCursorInvalid(e){return e===undefined||e===0||e===-1||e==="0"||e==="-1"}}t.CursoredV1Paginator=CursoredV1Paginator},2336:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.UserFavoritesV1Paginator=t.ListTimelineV1Paginator=t.UserTimelineV1Paginator=t.MentionTimelineV1Paginator=t.HomeTimelineV1Paginator=void 0;const i=r(s(7747));class TweetTimelineV1Paginator extends i.default{constructor(){super(...arguments);this.hasFinishedFetch=false}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.push(...s);this.hasFinishedFetch=s.length===0}}getNextQueryParams(e){const t=BigInt(this._realData[this._realData.length-1].id_str);return{...this.injectQueryParams(e),max_id:(t-BigInt(1)).toString()}}getPageLengthFromRequest(e){return e.data.length}isFetchLastOver(e){return!e.data.length}canFetchNextPage(e){return e.length>0}getItemArray(){return this.tweets}get tweets(){return this._realData}get done(){return super.done||this.hasFinishedFetch}}class HomeTimelineV1Paginator extends TweetTimelineV1Paginator{constructor(){super(...arguments);this._endpoint="statuses/home_timeline.json"}}t.HomeTimelineV1Paginator=HomeTimelineV1Paginator;class MentionTimelineV1Paginator extends TweetTimelineV1Paginator{constructor(){super(...arguments);this._endpoint="statuses/mentions_timeline.json"}}t.MentionTimelineV1Paginator=MentionTimelineV1Paginator;class UserTimelineV1Paginator extends TweetTimelineV1Paginator{constructor(){super(...arguments);this._endpoint="statuses/user_timeline.json"}}t.UserTimelineV1Paginator=UserTimelineV1Paginator;class ListTimelineV1Paginator extends TweetTimelineV1Paginator{constructor(){super(...arguments);this._endpoint="lists/statuses.json"}}t.ListTimelineV1Paginator=ListTimelineV1Paginator;class UserFavoritesV1Paginator extends TweetTimelineV1Paginator{constructor(){super(...arguments);this._endpoint="favorites/list.json"}}t.UserFavoritesV1Paginator=UserFavoritesV1Paginator},2665:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TweetV2ListTweetsPaginator=t.TweetV2UserLikedTweetsPaginator=t.TweetBookmarksTimelineV2Paginator=t.TweetUserMentionTimelineV2Paginator=t.TweetUserTimelineV2Paginator=t.TweetHomeTimelineV2Paginator=t.QuotedTweetsTimelineV2Paginator=t.TweetSearchAllV2Paginator=t.TweetSearchRecentV2Paginator=void 0;const r=s(7624);class TweetTimelineV2Paginator extends r.TwitterV2Paginator{refreshInstanceFromResult(e,t){var s;const r=e.data;const i=(s=r.data)!==null&&s!==void 0?s:[];this._rateLimit=e.rateLimit;if(!this._realData.data){this._realData.data=[]}if(t){this._realData.meta.oldest_id=r.meta.oldest_id;this._realData.meta.result_count+=r.meta.result_count;this._realData.meta.next_token=r.meta.next_token;this._realData.data.push(...i)}else{this._realData.meta.newest_id=r.meta.newest_id;this._realData.meta.result_count+=r.meta.result_count;this._realData.data.unshift(...i)}this.updateIncludes(r)}getNextQueryParams(e){this.assertUsable();const t={...this.injectQueryParams(e)};if(this._realData.meta.next_token){t.next_token=this._realData.meta.next_token}else{if(t.start_time){t.since_id=this.dateStringToSnowflakeId(t.start_time);delete t.start_time}if(t.end_time){delete t.end_time}t.until_id=this._realData.meta.oldest_id}return t}getPreviousQueryParams(e){this.assertUsable();return{...this.injectQueryParams(e),since_id:this._realData.meta.newest_id}}getPageLengthFromRequest(e){var t,s;return(s=(t=e.data.data)===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0}isFetchLastOver(e){var t;return!((t=e.data.data)===null||t===void 0?void 0:t.length)||!this.canFetchNextPage(e.data)}canFetchNextPage(e){return!!e.meta.next_token}getItemArray(){return this.tweets}dateStringToSnowflakeId(e){const t=BigInt("1288834974657");const s=new Date(e);if(isNaN(s.valueOf())){throw new Error("Unable to convert start_time/end_time to a valid date. A ISO 8601 DateTime is excepted, please check your input.")}const r=BigInt(s.valueOf());return(r-t<<BigInt("22")).toString()}get tweets(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}}class TweetPaginableTimelineV2Paginator extends r.TimelineV2Paginator{refreshInstanceFromResult(e,t){super.refreshInstanceFromResult(e,t);const s=e.data;if(t){this._realData.meta.oldest_id=s.meta.oldest_id}else{this._realData.meta.newest_id=s.meta.newest_id}}getItemArray(){return this.tweets}get tweets(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}}class TweetSearchRecentV2Paginator extends TweetTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="tweets/search/recent"}}t.TweetSearchRecentV2Paginator=TweetSearchRecentV2Paginator;class TweetSearchAllV2Paginator extends TweetTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="tweets/search/all"}}t.TweetSearchAllV2Paginator=TweetSearchAllV2Paginator;class QuotedTweetsTimelineV2Paginator extends TweetPaginableTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="tweets/:id/quote_tweets"}}t.QuotedTweetsTimelineV2Paginator=QuotedTweetsTimelineV2Paginator;class TweetHomeTimelineV2Paginator extends TweetPaginableTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/timelines/reverse_chronological"}}t.TweetHomeTimelineV2Paginator=TweetHomeTimelineV2Paginator;class TweetUserTimelineV2Paginator extends TweetPaginableTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/tweets"}}t.TweetUserTimelineV2Paginator=TweetUserTimelineV2Paginator;class TweetUserMentionTimelineV2Paginator extends TweetPaginableTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/mentions"}}t.TweetUserMentionTimelineV2Paginator=TweetUserMentionTimelineV2Paginator;class TweetBookmarksTimelineV2Paginator extends TweetPaginableTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/bookmarks"}}t.TweetBookmarksTimelineV2Paginator=TweetBookmarksTimelineV2Paginator;class TweetListV2Paginator extends r.TimelineV2Paginator{get tweets(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}getItemArray(){return this.tweets}}class TweetV2UserLikedTweetsPaginator extends TweetListV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/liked_tweets"}}t.TweetV2UserLikedTweetsPaginator=TweetV2UserLikedTweetsPaginator;class TweetV2ListTweetsPaginator extends TweetListV2Paginator{constructor(){super(...arguments);this._endpoint="lists/:id/tweets"}}t.TweetV2ListTweetsPaginator=TweetV2ListTweetsPaginator},4472:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.FriendshipsOutgoingV1Paginator=t.FriendshipsIncomingV1Paginator=t.UserSearchV1Paginator=void 0;const i=r(s(7747));const n=s(137);class UserSearchV1Paginator extends i.default{constructor(){super(...arguments);this._endpoint="users/search.json"}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.push(...s)}}getNextQueryParams(e){var t;const s=Number((t=this._queryParams.page)!==null&&t!==void 0?t:"1");return{...this._queryParams,page:s+1,...e?{count:e}:{}}}getPageLengthFromRequest(e){return e.data.length}isFetchLastOver(e){return!e.data.length}canFetchNextPage(e){return e.length>0}getItemArray(){return this.users}get users(){return this._realData}}t.UserSearchV1Paginator=UserSearchV1Paginator;class FriendshipsIncomingV1Paginator extends n.CursoredV1Paginator{constructor(){super(...arguments);this._endpoint="friendships/incoming.json";this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const s=e.data;this._rateLimit=e.rateLimit;if(t){this._realData.ids.push(...s.ids);this._realData.next_cursor=s.next_cursor}}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.FriendshipsIncomingV1Paginator=FriendshipsIncomingV1Paginator;class FriendshipsOutgoingV1Paginator extends FriendshipsIncomingV1Paginator{constructor(){super(...arguments);this._endpoint="friendships/outgoing.json"}}t.FriendshipsOutgoingV1Paginator=FriendshipsOutgoingV1Paginator},1157:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TweetRetweetersUsersV2Paginator=t.TweetLikingUsersV2Paginator=t.UserListFollowersV2Paginator=t.UserListMembersV2Paginator=t.UserFollowingV2Paginator=t.UserFollowersV2Paginator=t.UserMutingUsersV2Paginator=t.UserBlockingUsersV2Paginator=void 0;const r=s(7624);class UserTimelineV2Paginator extends r.TimelineV2Paginator{getItemArray(){return this.users}get users(){var e;return(e=this._realData.data)!==null&&e!==void 0?e:[]}get meta(){return super.meta}}class UserBlockingUsersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/blocking"}}t.UserBlockingUsersV2Paginator=UserBlockingUsersV2Paginator;class UserMutingUsersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/muting"}}t.UserMutingUsersV2Paginator=UserMutingUsersV2Paginator;class UserFollowersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/followers"}}t.UserFollowersV2Paginator=UserFollowersV2Paginator;class UserFollowingV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="users/:id/following"}}t.UserFollowingV2Paginator=UserFollowingV2Paginator;class UserListMembersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="lists/:id/members"}}t.UserListMembersV2Paginator=UserListMembersV2Paginator;class UserListFollowersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="lists/:id/followers"}}t.UserListFollowersV2Paginator=UserListFollowersV2Paginator;class TweetLikingUsersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="tweets/:id/liking_users"}}t.TweetLikingUsersV2Paginator=TweetLikingUsersV2Paginator;class TweetRetweetersUsersV2Paginator extends UserTimelineV2Paginator{constructor(){super(...arguments);this._endpoint="tweets/:id/retweeted_by"}}t.TweetRetweetersUsersV2Paginator=TweetRetweetersUsersV2Paginator},7624:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TimelineV2Paginator=t.TwitterV2Paginator=void 0;const r=s(7269);const i=s(7747);class TwitterV2Paginator extends i.PreviousableTwitterPaginator{updateIncludes(e){if(e.errors){if(!this._realData.errors){this._realData.errors=[]}this._realData.errors=[...this._realData.errors,...e.errors]}if(!e.includes){return}if(!this._realData.includes){this._realData.includes={}}const t=this._realData.includes;for(const[s,r]of Object.entries(e.includes)){if(!t[s]){t[s]=[]}t[s]=[...t[s],...r]}}assertUsable(){if(this.unusable){throw new Error("Unable to use this paginator to fetch more data, as it does not contain any metadata."+" Check .errors property for more details.")}}get meta(){return this._realData.meta}get includes(){var e;if(!((e=this._realData)===null||e===void 0?void 0:e.includes)){return new r.TwitterV2IncludesHelper(this._realData)}if(this._includesInstance){return this._includesInstance}return this._includesInstance=new r.TwitterV2IncludesHelper(this._realData)}get errors(){var e;return(e=this._realData.errors)!==null&&e!==void 0?e:[]}get unusable(){return this.errors.length>0&&!this._realData.meta&&!this._realData.data}}t.TwitterV2Paginator=TwitterV2Paginator;class TimelineV2Paginator extends TwitterV2Paginator{refreshInstanceFromResult(e,t){var s;const r=e.data;const i=(s=r.data)!==null&&s!==void 0?s:[];this._rateLimit=e.rateLimit;if(!this._realData.data){this._realData.data=[]}if(t){this._realData.meta.result_count+=r.meta.result_count;this._realData.meta.next_token=r.meta.next_token;this._realData.data.push(...i)}else{this._realData.meta.result_count+=r.meta.result_count;this._realData.meta.previous_token=r.meta.previous_token;this._realData.data.unshift(...i)}this.updateIncludes(r)}getNextQueryParams(e){this.assertUsable();return{...this.injectQueryParams(e),pagination_token:this._realData.meta.next_token}}getPreviousQueryParams(e){this.assertUsable();return{...this.injectQueryParams(e),pagination_token:this._realData.meta.previous_token}}getPageLengthFromRequest(e){var t,s;return(s=(t=e.data.data)===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0}isFetchLastOver(e){var t;return!((t=e.data.data)===null||t===void 0?void 0:t.length)||!this.canFetchNextPage(e.data)}canFetchNextPage(e){var t;return!!((t=e.meta)===null||t===void 0?void 0:t.next_token)}}t.TimelineV2Paginator=TimelineV2Paginator},7084:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.applyResponseHooks=t.hasRequestErrorPlugins=void 0;const r=s(2308);function hasRequestErrorPlugins(e){var t;if(!((t=e.clientSettings.plugins)===null||t===void 0?void 0:t.length)){return false}for(const t of e.clientSettings.plugins){if(t.onRequestError||t.onResponseError){return true}}return false}t.hasRequestErrorPlugins=hasRequestErrorPlugins;async function applyResponseHooks(e,t,s,i){let n;if(i instanceof r.ApiRequestError||i instanceof r.ApiPartialResponseError){n=await this.applyPluginMethod("onRequestError",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:s,error:i})}else if(i instanceof r.ApiResponseError){n=await this.applyPluginMethod("onResponseError",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:s,error:i})}if(n&&n instanceof r.TwitterApiPluginResponseOverride){return n.value}return Promise.reject(i)}t.applyResponseHooks=applyResponseHooks},5528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiV2Settings=void 0;t.TwitterApiV2Settings={debug:false,deprecationWarnings:true,logger:{log:console.log.bind(console)}}},3906:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.TweetStream=void 0;const o=s(2361);const l=a(s(4850));const u=s(2308);const c=a(s(1755));const h=n(s(1239));const d=[5,15,30,60,90,120,180,300,600,900];const basicReconnectRetry=e=>e>d.length?901e3:d[e-1]*1e3;class TweetStream extends o.EventEmitter{constructor(e,t){super();this.requestData=e;this.autoReconnect=false;this.autoReconnectRetries=5;this.keepAliveTimeoutMs=1e3*120;this.nextRetryTimeout=basicReconnectRetry;this.parser=new h.default;this.connectionProcessRunning=false;this.onKeepAliveTimeout=this.onKeepAliveTimeout.bind(this);this.initEventsFromParser();if(t){this.req=t.req;this.res=t.res;this.originalResponse=t.originalResponse;this.initEventsFromRequest()}}on(e,t){return super.on(e,t)}initEventsFromRequest(){if(!this.req||!this.res){throw new Error("TweetStream error: You cannot init TweetStream without a request and response object.")}const errorHandler=e=>{this.emit(u.ETwitterStreamEvent.ConnectionError,e);this.emit(u.ETwitterStreamEvent.Error,{type:u.ETwitterStreamEvent.ConnectionError,error:e,message:"Connection lost or closed by Twitter."});this.onConnectionError()};this.req.on("error",errorHandler);this.res.on("error",errorHandler);this.res.on("close",(()=>errorHandler(new Error("Connection closed by Twitter."))));this.res.on("data",(e=>{this.resetKeepAliveTimeout();if(e.toString()==="\r\n"){return this.emit(u.ETwitterStreamEvent.DataKeepAlive)}this.parser.push(e.toString())}));this.resetKeepAliveTimeout()}initEventsFromParser(){const e=this.requestData.payloadIsError;this.parser.on(h.EStreamParserEvent.ParsedData,(t=>{if(e&&e(t)){this.emit(u.ETwitterStreamEvent.DataError,t);this.emit(u.ETwitterStreamEvent.Error,{type:u.ETwitterStreamEvent.DataError,error:t,message:"Twitter sent a payload that is detected as an error payload."})}else{this.emit(u.ETwitterStreamEvent.Data,t)}}));this.parser.on(h.EStreamParserEvent.ParseError,(e=>{this.emit(u.ETwitterStreamEvent.TweetParseError,e);this.emit(u.ETwitterStreamEvent.Error,{type:u.ETwitterStreamEvent.TweetParseError,error:e,message:"Failed to parse stream data."})}))}resetKeepAliveTimeout(){this.unbindKeepAliveTimeout();if(this.keepAliveTimeoutMs!==Infinity){this.keepAliveTimeout=setTimeout(this.onKeepAliveTimeout,this.keepAliveTimeoutMs)}}onKeepAliveTimeout(){this.emit(u.ETwitterStreamEvent.ConnectionLost);this.onConnectionError()}unbindTimeouts(){this.unbindRetryTimeout();this.unbindKeepAliveTimeout()}unbindKeepAliveTimeout(){if(this.keepAliveTimeout){clearTimeout(this.keepAliveTimeout);this.keepAliveTimeout=undefined}}unbindRetryTimeout(){if(this.retryTimeout){clearTimeout(this.retryTimeout);this.retryTimeout=undefined}}closeWithoutEmit(){this.unbindTimeouts();if(this.res){this.res.removeAllListeners();this.res.destroy()}if(this.req){this.req.removeAllListeners();this.req.destroy()}}close(){this.emit(u.ETwitterStreamEvent.ConnectionClosed);this.closeWithoutEmit()}destroy(){this.removeAllListeners();this.close()}async clone(){const e=new l.default(this.requestData);const t=await e.makeRequestAsStream();const s=this.eventNames();for(const e of s){const s=this.listeners(e);for(const r of s){t.on(e,r)}}return t}async connect(e={}){if(typeof e.autoReconnect!=="undefined"){this.autoReconnect=e.autoReconnect}if(typeof e.autoReconnectRetries!=="undefined"){this.autoReconnectRetries=e.autoReconnectRetries==="unlimited"?Infinity:e.autoReconnectRetries}if(typeof e.keepAliveTimeout!=="undefined"){this.keepAliveTimeoutMs=e.keepAliveTimeout==="disable"?Infinity:e.keepAliveTimeout}if(typeof e.nextRetryTimeout!=="undefined"){this.nextRetryTimeout=e.nextRetryTimeout}this.unbindTimeouts();try{await this.reconnect()}catch(e){this.emit(u.ETwitterStreamEvent.ConnectError,0);this.emit(u.ETwitterStreamEvent.Error,{type:u.ETwitterStreamEvent.ConnectError,error:e,message:"Connect error - Initial connection just failed."});if(this.autoReconnect){this.makeAutoReconnectRetry(0,e)}else{throw e}}return this}async reconnect(){if(this.connectionProcessRunning){throw new Error("Connection process is already running.")}this.connectionProcessRunning=true;try{let e=true;if(this.req){e=false;this.closeWithoutEmit()}const{req:t,res:s,originalResponse:r}=await new l.default(this.requestData).makeRequestAndResolveWhenReady();this.req=t;this.res=s;this.originalResponse=r;this.emit(e?u.ETwitterStreamEvent.Connected:u.ETwitterStreamEvent.Reconnected);this.parser.reset();this.initEventsFromRequest()}finally{this.connectionProcessRunning=false}}async onConnectionError(e=0){this.unbindTimeouts();this.closeWithoutEmit();if(!this.autoReconnect){this.emit(u.ETwitterStreamEvent.ConnectionClosed);return}if(e>=this.autoReconnectRetries){this.emit(u.ETwitterStreamEvent.ReconnectLimitExceeded);this.emit(u.ETwitterStreamEvent.ConnectionClosed);return}try{this.emit(u.ETwitterStreamEvent.ReconnectAttempt,e);await this.reconnect()}catch(t){this.emit(u.ETwitterStreamEvent.ReconnectError,e);this.emit(u.ETwitterStreamEvent.Error,{type:u.ETwitterStreamEvent.ReconnectError,error:t,message:`Reconnect error - ${e+1} attempts made yet.`});this.makeAutoReconnectRetry(e,t)}}makeAutoReconnectRetry(e,t){const s=this.nextRetryTimeout(e+1,t);this.retryTimeout=setTimeout((()=>{this.onConnectionError(e+1)}),s)}async*[Symbol.asyncIterator](){const e=new c.default(this);try{while(true){if(!this.req||this.req.aborted){throw new Error("Connection closed")}if(e.hasStack()){yield*e.popStack()}const{type:t,payload:s}=await e.nextEvent();if(t==="error"){throw s}}}finally{e.destroy()}}}t.TweetStream=TweetStream;t["default"]=TweetStream},1755:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TweetStreamEventCombiner=void 0;const r=s(2361);const i=s(2308);class TweetStreamEventCombiner extends r.EventEmitter{constructor(e){super();this.stream=e;this.stack=[];this.onStreamData=this.onStreamData.bind(this);this.onStreamError=this.onStreamError.bind(this);this.onceNewEvent=this.once.bind(this,"event");e.on(i.ETwitterStreamEvent.Data,this.onStreamData);e.on(i.ETwitterStreamEvent.ConnectionError,this.onStreamError);e.on(i.ETwitterStreamEvent.TweetParseError,this.onStreamError);e.on(i.ETwitterStreamEvent.ConnectionClosed,this.onStreamError)}nextEvent(){return new Promise(this.onceNewEvent)}hasStack(){return this.stack.length>0}popStack(){const e=this.stack;this.stack=[];return e}destroy(){this.removeAllListeners();this.stream.off(i.ETwitterStreamEvent.Data,this.onStreamData);this.stream.off(i.ETwitterStreamEvent.ConnectionError,this.onStreamError);this.stream.off(i.ETwitterStreamEvent.TweetParseError,this.onStreamError);this.stream.off(i.ETwitterStreamEvent.ConnectionClosed,this.onStreamError)}emitEvent(e,t){this.emit("event",{type:e,payload:t})}onStreamError(e){this.emitEvent("error",e)}onStreamData(e){this.stack.push(e);this.emitEvent("data",e)}}t.TweetStreamEventCombiner=TweetStreamEventCombiner;t["default"]=TweetStreamEventCombiner},1239:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EStreamParserEvent=void 0;const r=s(2361);class TweetStreamParser extends r.EventEmitter{constructor(){super(...arguments);this.currentMessage=""}push(e){this.currentMessage+=e;e=this.currentMessage;const t=e.length;let s=0;let r=0;while(r<t){if(e.slice(r,r+2)==="\r\n"){const t=e.slice(s,r);s=r+=2;if(!t.length){continue}try{const e=JSON.parse(t);if(e){this.emit(i.ParsedData,e);continue}}catch(e){this.emit(i.ParseError,e)}}r++}this.currentMessage=e.slice(s,t)}reset(){this.currentMessage=""}}t["default"]=TweetStreamParser;var i;(function(e){e["ParsedData"]="parsed data";e["ParseError"]="parse error"})(i=t.EStreamParserEvent||(t.EStreamParserEvent={}))},7063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},6268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ETwitterStreamEvent=void 0;var s;(function(e){e["Connected"]="connected";e["ConnectError"]="connect error";e["ConnectionError"]="connection error";e["ConnectionClosed"]="connection closed";e["ConnectionLost"]="connection lost";e["ReconnectAttempt"]="reconnect attempt";e["Reconnected"]="reconnected";e["ReconnectError"]="reconnect error";e["ReconnectLimitExceeded"]="reconnect limit exceeded";e["DataKeepAlive"]="data keep-alive";e["Data"]="data event content";e["DataError"]="data twitter error";e["TweetParseError"]="data tweet parse error";e["Error"]="stream error"})(s=t.ETwitterStreamEvent||(t.ETwitterStreamEvent={}))},4697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EApiV2ErrorCode=t.EApiV1ErrorCode=t.ApiResponseError=t.ApiPartialResponseError=t.ApiRequestError=t.ETwitterApiError=void 0;var s;(function(e){e["Request"]="request";e["PartialResponse"]="partial-response";e["Response"]="response"})(s=t.ETwitterApiError||(t.ETwitterApiError={}));class ApiError extends Error{constructor(){super(...arguments);this.error=true}}class ApiRequestError extends ApiError{constructor(e,t){super(e);this.type=s.Request;Error.captureStackTrace(this,this.constructor);Object.defineProperty(this,"_options",{value:t})}get request(){return this._options.request}get requestError(){return this._options.requestError}toJSON(){return{type:this.type,error:this.requestError}}}t.ApiRequestError=ApiRequestError;class ApiPartialResponseError extends ApiError{constructor(e,t){super(e);this.type=s.PartialResponse;Error.captureStackTrace(this,this.constructor);Object.defineProperty(this,"_options",{value:t})}get request(){return this._options.request}get response(){return this._options.response}get responseError(){return this._options.responseError}get rawContent(){return this._options.rawContent}toJSON(){return{type:this.type,error:this.responseError}}}t.ApiPartialResponseError=ApiPartialResponseError;class ApiResponseError extends ApiError{constructor(e,t){super(e);this.type=s.Response;Error.captureStackTrace(this,this.constructor);Object.defineProperty(this,"_options",{value:t});this.code=t.code;this.headers=t.headers;this.rateLimit=t.rateLimit;if(t.data&&typeof t.data==="object"&&"error"in t.data&&!t.data.errors){const e={...t.data};e.errors=[{code:r.InternalError,message:e.error}];this.data=e}else{this.data=t.data}}get request(){return this._options.request}get response(){return this._options.response}hasErrorCode(...e){const t=this.errors;if(!(t===null||t===void 0?void 0:t.length)){return false}if("code"in t[0]){const s=t;return s.some((t=>e.includes(t.code)))}const s=this.data;return e.includes(s.type)}get errors(){var e;return(e=this.data)===null||e===void 0?void 0:e.errors}get rateLimitError(){return this.code===420||this.code===429}get isAuthError(){if(this.code===401){return true}return this.hasErrorCode(r.AuthTimestampInvalid,r.AuthenticationFail,r.BadAuthenticationData,r.InvalidOrExpiredToken)}toJSON(){return{type:this.type,code:this.code,error:this.data,rateLimit:this.rateLimit,headers:this.headers}}}t.ApiResponseError=ApiResponseError;var r;(function(e){e[e["InvalidCoordinates"]=3]="InvalidCoordinates";e[e["NoLocationFound"]=13]="NoLocationFound";e[e["AuthenticationFail"]=32]="AuthenticationFail";e[e["InvalidOrExpiredToken"]=89]="InvalidOrExpiredToken";e[e["UnableToVerifyCredentials"]=99]="UnableToVerifyCredentials";e[e["AuthTimestampInvalid"]=135]="AuthTimestampInvalid";e[e["BadAuthenticationData"]=215]="BadAuthenticationData";e[e["NoUserMatch"]=17]="NoUserMatch";e[e["UserNotFound"]=50]="UserNotFound";e[e["ResourceNotFound"]=34]="ResourceNotFound";e[e["TweetNotFound"]=144]="TweetNotFound";e[e["TweetNotVisible"]=179]="TweetNotVisible";e[e["NotAllowedResource"]=220]="NotAllowedResource";e[e["MediaIdNotFound"]=325]="MediaIdNotFound";e[e["TweetNoLongerAvailable"]=421]="TweetNoLongerAvailable";e[e["TweetViolatedRules"]=422]="TweetViolatedRules";e[e["TargetUserSuspended"]=63]="TargetUserSuspended";e[e["YouAreSuspended"]=64]="YouAreSuspended";e[e["AccountUpdateFailed"]=120]="AccountUpdateFailed";e[e["NoSelfSpamReport"]=36]="NoSelfSpamReport";e[e["NoSelfMute"]=271]="NoSelfMute";e[e["AccountLocked"]=326]="AccountLocked";e[e["RateLimitExceeded"]=88]="RateLimitExceeded";e[e["NoDMRightForApp"]=93]="NoDMRightForApp";e[e["OverCapacity"]=130]="OverCapacity";e[e["InternalError"]=131]="InternalError";e[e["TooManyFollowings"]=161]="TooManyFollowings";e[e["TweetLimitExceeded"]=185]="TweetLimitExceeded";e[e["DuplicatedTweet"]=187]="DuplicatedTweet";e[e["TooManySpamReports"]=205]="TooManySpamReports";e[e["RequestLooksLikeSpam"]=226]="RequestLooksLikeSpam";e[e["NoWriteRightForApp"]=261]="NoWriteRightForApp";e[e["TweetActionsDisabled"]=425]="TweetActionsDisabled";e[e["TweetRepliesRestricted"]=433]="TweetRepliesRestricted";e[e["NamedParameterMissing"]=38]="NamedParameterMissing";e[e["InvalidAttachmentUrl"]=44]="InvalidAttachmentUrl";e[e["TweetTextTooLong"]=186]="TweetTextTooLong";e[e["MissingUrlParameter"]=195]="MissingUrlParameter";e[e["NoMultipleGifs"]=323]="NoMultipleGifs";e[e["InvalidMediaIds"]=324]="InvalidMediaIds";e[e["InvalidUrl"]=407]="InvalidUrl";e[e["TooManyTweetAttachments"]=386]="TooManyTweetAttachments";e[e["StatusAlreadyFavorited"]=139]="StatusAlreadyFavorited";e[e["FollowRequestAlreadySent"]=160]="FollowRequestAlreadySent";e[e["CannotUnmuteANonMutedAccount"]=272]="CannotUnmuteANonMutedAccount";e[e["TweetAlreadyRetweeted"]=327]="TweetAlreadyRetweeted";e[e["ReplyToDeletedTweet"]=385]="ReplyToDeletedTweet";e[e["DMReceiverNotFollowingYou"]=150]="DMReceiverNotFollowingYou";e[e["UnableToSendDM"]=151]="UnableToSendDM";e[e["MustAllowDMFromAnyone"]=214]="MustAllowDMFromAnyone";e[e["CannotSendDMToThisUser"]=349]="CannotSendDMToThisUser";e[e["DMTextTooLong"]=354]="DMTextTooLong";e[e["SubscriptionAlreadyExists"]=355]="SubscriptionAlreadyExists";e[e["CallbackUrlNotApproved"]=415]="CallbackUrlNotApproved";e[e["SuspendedApplication"]=416]="SuspendedApplication";e[e["OobOauthIsNotAllowed"]=417]="OobOauthIsNotAllowed"})(r=t.EApiV1ErrorCode||(t.EApiV1ErrorCode={}));var i;(function(e){e["InvalidRequest"]="https://api.twitter.com/2/problems/invalid-request";e["ClientForbidden"]="https://api.twitter.com/2/problems/client-forbidden";e["UnsupportedAuthentication"]="https://api.twitter.com/2/problems/unsupported-authentication";e["InvalidRules"]="https://api.twitter.com/2/problems/invalid-rules";e["TooManyRules"]="https://api.twitter.com/2/problems/rule-cap";e["DuplicatedRules"]="https://api.twitter.com/2/problems/duplicate-rules";e["RateLimitExceeded"]="https://api.twitter.com/2/problems/usage-capped";e["ConnectionError"]="https://api.twitter.com/2/problems/streaming-connection";e["ClientDisconnected"]="https://api.twitter.com/2/problems/client-disconnected";e["TwitterDisconnectedYou"]="https://api.twitter.com/2/problems/operational-disconnect";e["ResourceNotFound"]="https://api.twitter.com/2/problems/resource-not-found";e["ResourceUnauthorized"]="https://api.twitter.com/2/problems/not-authorized-for-resource";e["DisallowedResource"]="https://api.twitter.com/2/problems/disallowed-resource"})(i=t.EApiV2ErrorCode||(t.EApiV2ErrorCode={}))},2308:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});i(s(7528),t);i(s(4859),t);i(s(4697),t);i(s(3226),t);i(s(6268),t);i(s(7063),t);i(s(3590),t)},8279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiPluginResponseOverride=void 0;class TwitterApiPluginResponseOverride{constructor(e){this.value=e}}t.TwitterApiPluginResponseOverride=TwitterApiPluginResponseOverride},3590:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});i(s(8279),t)},3226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},2280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},5563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EDirectMessageEventTypeV1=void 0;var s;(function(e){e["Create"]="message_create";e["WelcomeCreate"]="welcome_message"})(s=t.EDirectMessageEventTypeV1||(t.EDirectMessageEventTypeV1={}))},2768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},9038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},7528:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});i(s(3138),t);i(s(558),t);i(s(2768),t);i(s(4826),t);i(s(2280),t);i(s(9038),t);i(s(6422),t);i(s(5563),t);i(s(5146),t)},5146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},3138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},6422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EUploadMimeType=void 0;var s;(function(e){e["Jpeg"]="image/jpeg";e["Mp4"]="video/mp4";e["Gif"]="image/gif";e["Png"]="image/png";e["Srt"]="text/plain";e["Webp"]="image/webp"})(s=t.EUploadMimeType||(t.EUploadMimeType={}))},4826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},4859:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))r(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});i(s(8341),t);i(s(3171),t);i(s(680),t);i(s(3765),t);i(s(9289),t);i(s(1623),t)},1623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},9289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},8341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},3171:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},3765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},1063:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiv1=void 0;const i=s(8468);const n=s(9494);const a=s(2308);const o=r(s(5833));class TwitterApiv1 extends o.default{constructor(){super(...arguments);this._prefix=i.API_V1_1_PREFIX}get readWrite(){return this}sendDm({recipient_id:e,custom_profile_id:t,...s}){const r={event:{type:a.EDirectMessageEventTypeV1.Create,[a.EDirectMessageEventTypeV1.Create]:{target:{recipient_id:e},message_data:s}}};if(t){r.event[a.EDirectMessageEventTypeV1.Create].custom_profile_id=t}return this.post("direct_messages/events/new.json",r,{forceBodyMode:"json"})}getDmEvent(e){return this.get("direct_messages/events/show.json",{id:e})}deleteDm(e){return this.delete("direct_messages/events/destroy.json",{id:e})}async listDmEvents(e={}){const t={...e};const s=await this.get("direct_messages/events/list.json",t,{fullResponse:true});return new n.DmEventsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}newWelcomeDm(e,t){const s={[a.EDirectMessageEventTypeV1.WelcomeCreate]:{name:e,message_data:t}};return this.post("direct_messages/welcome_messages/new.json",s,{forceBodyMode:"json"})}getWelcomeDm(e){return this.get("direct_messages/welcome_messages/show.json",{id:e})}deleteWelcomeDm(e){return this.delete("direct_messages/welcome_messages/destroy.json",{id:e})}updateWelcomeDm(e,t){const s={message_data:t};return this.put("direct_messages/welcome_messages/update.json",s,{forceBodyMode:"json",query:{id:e}})}async listWelcomeDms(e={}){const t={...e};const s=await this.get("direct_messages/welcome_messages/list.json",t,{fullResponse:true});return new n.WelcomeDmV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}newWelcomeDmRule(e){return this.post("direct_messages/welcome_messages/rules/new.json",{welcome_message_rule:{welcome_message_id:e}},{forceBodyMode:"json"})}getWelcomeDmRule(e){return this.get("direct_messages/welcome_messages/rules/show.json",{id:e})}deleteWelcomeDmRule(e){return this.delete("direct_messages/welcome_messages/rules/destroy.json",{id:e})}async listWelcomeDmRules(e={}){const t={...e};return this.get("direct_messages/welcome_messages/rules/list.json",t)}async setWelcomeDm(e,t=true){var s;const r=await this.listWelcomeDmRules();if((s=r.welcome_message_rules)===null||s===void 0?void 0:s.length){for(const e of r.welcome_message_rules){await this.deleteWelcomeDmRule(e.id);if(t){await this.deleteWelcomeDm(e.welcome_message_id)}}}return this.newWelcomeDmRule(e)}markDmAsRead(e,t){return this.post("direct_messages/mark_read.json",{last_read_event_id:e,recipient_id:t},{forceBodyMode:"url"})}indicateDmTyping(e){return this.post("direct_messages/indicate_typing.json",{recipient_id:e},{forceBodyMode:"url"})}async downloadDmImage(e){if(typeof e!=="string"){const t=e[a.EDirectMessageEventTypeV1.Create].message_data.attachment;if(!t){throw new Error("The given direct message doesn't contain any attachment")}e=t.media.media_url_https}const t=await this.get(e,undefined,{forceParseMode:"buffer",prefix:""});if(!t.length){throw new Error("Image not found. Make sure you are logged with credentials able to access direct messages, and check the URL.")}return t}}t.TwitterApiv1=TwitterApiv1;t["default"]=TwitterApiv1},8422:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(2641));const n=s(8468);const a=s(5134);const o=r(s(1063));const l=s(2336);const u=s(8463);const c=s(4589);const h=s(917);const d=s(4472);const f=s(1345);class TwitterApiv1ReadOnly extends i.default{constructor(){super(...arguments);this._prefix=n.API_V1_1_PREFIX}singleTweet(e,t={}){return this.get("statuses/show.json",{tweet_mode:"extended",id:e,...t})}tweets(e,t={}){return this.post("statuses/lookup.json",{tweet_mode:"extended",id:e,...t})}oembedTweet(e,t={}){return this.get("oembed",{url:`https://twitter.com/i/statuses/${e}`,...t},{prefix:"https://publish.twitter.com/"})}async homeTimeline(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("statuses/home_timeline.json",t,{fullResponse:true});return new l.HomeTimelineV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async mentionTimeline(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("statuses/mentions_timeline.json",t,{fullResponse:true});return new l.MentionTimelineV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async userTimeline(e,t={}){const s={tweet_mode:"extended",user_id:e,...t};const r=await this.get("statuses/user_timeline.json",s,{fullResponse:true});return new l.UserTimelineV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}async userTimelineByUsername(e,t={}){const s={tweet_mode:"extended",screen_name:e,...t};const r=await this.get("statuses/user_timeline.json",s,{fullResponse:true});return new l.UserTimelineV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}async favoriteTimeline(e,t={}){const s={tweet_mode:"extended",user_id:e,...t};const r=await this.get("favorites/list.json",s,{fullResponse:true});return new l.UserFavoritesV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}async favoriteTimelineByUsername(e,t={}){const s={tweet_mode:"extended",screen_name:e,...t};const r=await this.get("favorites/list.json",s,{fullResponse:true});return new l.UserFavoritesV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}user(e){return this.get("users/show.json",{tweet_mode:"extended",...e})}users(e){return this.get("users/lookup.json",{tweet_mode:"extended",...e})}verifyCredentials(e={}){return this.get("account/verify_credentials.json",e)}async listMutedUsers(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("mutes/users/list.json",t,{fullResponse:true});return new u.MuteUserListV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async listMutedUserIds(e={}){const t={stringify_ids:true,...e};const s=await this.get("mutes/users/ids.json",t,{fullResponse:true});return new u.MuteUserIdsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async userFriendList(e={}){const t={...e};const s=await this.get("friends/list.json",t,{fullResponse:true});return new h.UserFriendListV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async userFollowerList(e={}){const t={...e};const s=await this.get("followers/list.json",t,{fullResponse:true});return new c.UserFollowerListV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async userFollowerIds(e={}){const t={stringify_ids:true,...e};const s=await this.get("followers/ids.json",t,{fullResponse:true});return new c.UserFollowerIdsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async userFollowingIds(e={}){const t={stringify_ids:true,...e};const s=await this.get("friends/ids.json",t,{fullResponse:true});return new h.UserFollowersIdsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async searchUsers(e,t={}){const s={q:e,tweet_mode:"extended",page:1,...t};const r=await this.get("users/search.json",s,{fullResponse:true});return new d.UserSearchV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}friendship(e){return this.get("friendships/show.json",e)}friendships(e){return this.get("friendships/lookup.json",e)}friendshipsNoRetweets(){return this.get("friendships/no_retweets/ids.json",{stringify_ids:true})}async friendshipsIncoming(e={}){const t={stringify_ids:true,...e};const s=await this.get("friendships/incoming.json",t,{fullResponse:true});return new d.FriendshipsIncomingV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async friendshipsOutgoing(e={}){const t={stringify_ids:true,...e};const s=await this.get("friendships/outgoing.json",t,{fullResponse:true});return new d.FriendshipsOutgoingV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}accountSettings(){return this.get("account/settings.json")}userProfileBannerSizes(e){return this.get("users/profile_banner.json",e)}list(e){return this.get("lists/show.json",{tweet_mode:"extended",...e})}lists(e={}){return this.get("lists/list.json",{tweet_mode:"extended",...e})}async listMembers(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("lists/members.json",t,{fullResponse:true});return new f.ListMembersV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}listGetMember(e){return this.get("lists/members/show.json",{tweet_mode:"extended",...e})}async listMemberships(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("lists/memberships.json",t,{fullResponse:true});return new f.ListMembershipsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async listOwnerships(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("lists/ownerships.json",t,{fullResponse:true});return new f.ListOwnershipsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async listStatuses(e){const t={tweet_mode:"extended",...e};const s=await this.get("lists/statuses.json",t,{fullResponse:true});return new l.ListTimelineV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}async listSubscribers(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("lists/subscribers.json",t,{fullResponse:true});return new f.ListSubscribersV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}listGetSubscriber(e){return this.get("lists/subscribers/show.json",{tweet_mode:"extended",...e})}async listSubscriptions(e={}){const t={tweet_mode:"extended",...e};const s=await this.get("lists/subscriptions.json",t,{fullResponse:true});return new f.ListSubscriptionsV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t})}mediaInfo(e){return this.get("media/upload.json",{command:"STATUS",media_id:e},{prefix:n.API_V1_1_UPLOAD_PREFIX})}filterStream({autoConnect:e,...t}={}){const s={};for(const[e,r]of Object.entries(t)){if(e==="follow"||e==="track"){s[e]=r.toString()}else if(e==="locations"){const e=r;s.locations=(0,a.arrayWrap)(e).map((e=>`${e.lng},${e.lat}`)).join(",")}else{s[e]=r}}const r=this.stream;return r.postStream("statuses/filter.json",s,{autoConnect:e})}sampleStream({autoConnect:e,...t}={}){const s=this.stream;return s.getStream("statuses/sample.json",t,{autoConnect:e})}get stream(){const e=new o.default(this);e.setPrefix(n.API_V1_1_STREAM_PREFIX);return e}trendsByPlace(e,t={}){return this.get("trends/place.json",{id:e,...t})}trendsAvailable(){return this.get("trends/available.json")}trendsClosest(e,t){return this.get("trends/closest.json",{lat:e,long:t})}geoPlace(e){return this.get("geo/id/:place_id.json",undefined,{params:{place_id:e}})}geoSearch(e){return this.get("geo/search.json",e)}geoReverseGeoCode(e){return this.get("geo/reverse_geocode.json",e)}rateLimitStatuses(...e){return this.get("application/rate_limit_status.json",{resources:e})}supportedLanguages(){return this.get("help/languages.json")}}t["default"]=TwitterApiv1ReadOnly},5833:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=s(8468);const l=a(s(8422));const u=s(2308);const c=n(s(7147));const h=s(4923);const d=s(5134);const f="media/upload.json";class TwitterApiv1ReadWrite extends l.default{constructor(){super(...arguments);this._prefix=o.API_V1_1_PREFIX}get readOnly(){return this}tweet(e,t={}){const s={status:e,tweet_mode:"extended",...t};return this.post("statuses/update.json",s)}async quote(e,t,s={}){const r="https://twitter.com/i/statuses/"+t;return this.tweet(e,{...s,attachment_url:r})}async tweetThread(e){const t=[];for(const s of e){const e=t.length?t[t.length-1]:null;const r={...typeof s==="string"?{status:s}:s};const i=e?e.id_str:r.in_reply_to_status_id;const n=r.status;if(i){t.push(await this.reply(n,i,r))}else{t.push(await this.tweet(n,r))}}return t}reply(e,t,s={}){return this.tweet(e,{auto_populate_reply_metadata:true,in_reply_to_status_id:t,...s})}deleteTweet(e){return this.post("statuses/destroy/:id.json",{tweet_mode:"extended"},{params:{id:e}})}reportUserAsSpam(e){return this.post("users/report_spam.json",{tweet_mode:"extended",...e})}updateFriendship(e){return this.post("friendships/update.json",e)}createFriendship(e){return this.post("friendships/create.json",e)}destroyFriendship(e){return this.post("friendships/destroy.json",e)}updateAccountSettings(e){return this.post("account/settings.json",e)}updateAccountProfile(e){return this.post("account/update_profile.json",e)}async updateAccountProfileBanner(e,t={}){const s={banner:await(0,h.readFileIntoBuffer)(e),...t};return this.post("account/update_profile_banner.json",s,{forceBodyMode:"form-data"})}async updateAccountProfileImage(e,t={}){const s={tweet_mode:"extended",image:await(0,h.readFileIntoBuffer)(e),...t};return this.post("account/update_profile_image.json",s,{forceBodyMode:"form-data"})}removeAccountProfileBanner(){return this.post("account/remove_profile_banner.json")}createList(e){return this.post("lists/create.json",{tweet_mode:"extended",...e})}updateList(e){return this.post("lists/update.json",{tweet_mode:"extended",...e})}removeList(e){return this.post("lists/destroy.json",{tweet_mode:"extended",...e})}addListMembers(e){const t=e.user_id&&(0,d.hasMultipleItems)(e.user_id)||e.screen_name&&(0,d.hasMultipleItems)(e.screen_name);const s=t?"lists/members/create_all.json":"lists/members/create.json";return this.post(s,e)}removeListMembers(e){const t=e.user_id&&(0,d.hasMultipleItems)(e.user_id)||e.screen_name&&(0,d.hasMultipleItems)(e.screen_name);const s=t?"lists/members/destroy_all.json":"lists/members/destroy.json";return this.post(s,e)}subscribeToList(e){return this.post("lists/subscribers/create.json",{tweet_mode:"extended",...e})}unsubscribeOfList(e){return this.post("lists/subscribers/destroy.json",{tweet_mode:"extended",...e})}createMediaMetadata(e,t){return this.post("media/metadata/create.json",{media_id:e,...t},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:"json"})}createMediaSubtitles(e,t){return this.post("media/subtitles/create.json",{media_id:e,media_category:"TweetVideo",subtitle_info:{subtitles:t}},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:"json"})}deleteMediaSubtitles(e,...t){return this.post("media/subtitles/delete.json",{media_id:e,media_category:"TweetVideo",subtitle_info:{subtitles:t.map((e=>({language_code:e})))}},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:"json"})}async uploadMedia(e,t={}){var s;const r=(s=t.chunkLength)!==null&&s!==void 0?s:1024*1024;const{fileHandle:i,mediaCategory:n,fileSize:a,mimeType:l}=await this.getUploadMediaRequirements(e,t);try{const s=await this.post(f,{command:"INIT",total_bytes:a,media_type:l,media_category:n,additional_owners:t.additionalOwners,shared:t.shared?true:undefined},{prefix:o.API_V1_1_UPLOAD_PREFIX});await this.mediaChunkedUpload(i,r,s.media_id_string,t.maxConcurrentUploads);const u=await this.post(f,{command:"FINALIZE",media_id:s.media_id_string},{prefix:o.API_V1_1_UPLOAD_PREFIX});if(u.processing_info&&u.processing_info.state!=="succeeded"){await this.awaitForMediaProcessingCompletion(u)}return u.media_id_string}finally{if(typeof e==="number"){c.close(e,(()=>{}))}else if(typeof i==="object"&&!(i instanceof Buffer)){i.close()}}}async awaitForMediaProcessingCompletion(e){while(true){e=await this.mediaInfo(e.media_id_string);const{processing_info:t}=e;if(!t||t.state==="succeeded"){return}if(t.state==="failed"){if(t.error){const{name:e,message:s}=t.error;throw new Error(`Failed to process media: ${e} - ${s}.`)}throw new Error("Failed to process the media.")}if(t.check_after_secs){await(0,h.sleepSecs)(t.check_after_secs)}else{await(0,h.sleepSecs)(5)}}}async getUploadMediaRequirements(e,{mimeType:t,type:s,target:r,longVideo:i}={}){let n;try{n=await(0,h.getFileHandle)(e);const a=(0,h.getMimeType)(e,s,t);let o;if(a===u.EUploadMimeType.Mp4&&(!t&&!s&&r!=="dm"||i)){o="amplify_video"}else{o=(0,h.getMediaCategoryByMime)(a,r!==null&&r!==void 0?r:"tweet")}return{fileHandle:n,mediaCategory:o,fileSize:await(0,h.getFileSizeFromFileHandle)(n),mimeType:a}}catch(t){if(typeof e==="number"){c.close(e,(()=>{}))}else if(typeof n==="object"&&!(n instanceof Buffer)){n.close()}throw t}}async mediaChunkedUpload(e,t,s,r=3){let i=0;if(r<1){throw new RangeError("Bad maxConcurrentUploads parameter.")}const n=e instanceof Buffer?undefined:Buffer.alloc(t);let a;let l;let u=0;[a,l]=await(0,h.readNextPartOf)(e,t,u,n);u+=l;const c=new Set;while(l){const d=a.slice(0,l);if(d.length){const e=this.post(f,{command:"APPEND",media_id:s,segment_index:i,media:d},{prefix:o.API_V1_1_UPLOAD_PREFIX});c.add(e);e.then((()=>{c.delete(e)}));i++}if(c.size>=r){await Promise.race(c)}[a,l]=await(0,h.readNextPartOf)(e,t,u,n);u+=l}await Promise.all([...c])}}t["default"]=TwitterApiv1ReadWrite},4923:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.readNextPartOf=t.sleepSecs=t.getMediaCategoryByMime=t.getMimeType=t.getFileSizeFromFileHandle=t.getFileHandle=t.readFileIntoBuffer=void 0;const a=n(s(7147));const o=s(5134);const l=s(2308);async function readFileIntoBuffer(e){const t=await getFileHandle(e);if(typeof t==="number"){return new Promise(((e,s)=>{a.readFile(t,((t,r)=>{if(t){return s(t)}e(r)}))}))}else if(t instanceof Buffer){return t}else{return t.readFile()}}t.readFileIntoBuffer=readFileIntoBuffer;function getFileHandle(e){if(typeof e==="string"){return a.promises.open(e,"r")}else if(typeof e==="number"){return e}else if(typeof e==="object"&&!(e instanceof Buffer)){return e}else if(!(e instanceof Buffer)){throw new Error("Given file is not valid, please check its type.")}else{return e}}t.getFileHandle=getFileHandle;async function getFileSizeFromFileHandle(e){if(typeof e==="number"){const t=await new Promise(((t,s)=>{a.fstat(e,((e,r)=>{if(e)s(e);t(r)}))}));return t.size}else if(e instanceof Buffer){return e.length}else{return(await e.stat()).size}}t.getFileSizeFromFileHandle=getFileSizeFromFileHandle;function getMimeType(e,t,s){if(typeof s==="string"){return s}else if(typeof e==="string"&&!t){return getMimeByName(e)}else if(typeof t==="string"){return getMimeByType(t)}throw new Error("You must specify type if file is a file handle or Buffer.")}t.getMimeType=getMimeType;function getMimeByName(e){if(e.endsWith(".jpeg")||e.endsWith(".jpg"))return l.EUploadMimeType.Jpeg;if(e.endsWith(".png"))return l.EUploadMimeType.Png;if(e.endsWith(".webp"))return l.EUploadMimeType.Webp;if(e.endsWith(".gif"))return l.EUploadMimeType.Gif;if(e.endsWith(".mpeg4")||e.endsWith(".mp4"))return l.EUploadMimeType.Mp4;if(e.endsWith(".srt"))return l.EUploadMimeType.Srt;(0,o.safeDeprecationWarning)({instance:"TwitterApiv1ReadWrite",method:"uploadMedia",problem:"options.mimeType is missing and filename couldn't help to resolve MIME type, so it will fallback to image/jpeg",resolution:"If you except to give filenames without extensions, please specify explicitlty the MIME type using options.mimeType"});return l.EUploadMimeType.Jpeg}function getMimeByType(e){(0,o.safeDeprecationWarning)({instance:"TwitterApiv1ReadWrite",method:"uploadMedia",problem:"you're using options.type",resolution:"Remove options.type argument and migrate to options.mimeType which takes the real MIME type. "+"If you're using type=longmp4, add options.longVideo alongside of mimeType=EUploadMimeType.Mp4"});if(e==="gif")return l.EUploadMimeType.Gif;if(e==="jpg")return l.EUploadMimeType.Jpeg;if(e==="png")return l.EUploadMimeType.Png;if(e==="webp")return l.EUploadMimeType.Webp;if(e==="srt")return l.EUploadMimeType.Srt;if(e==="mp4"||e==="longmp4")return l.EUploadMimeType.Mp4;return e}function getMediaCategoryByMime(e,t){if(e===l.EUploadMimeType.Mp4)return t==="tweet"?"TweetVideo":"DmVideo";if(e===l.EUploadMimeType.Gif)return t==="tweet"?"TweetGif":"DmGif";if(e===l.EUploadMimeType.Srt)return"Subtitles";else return t==="tweet"?"TweetImage":"DmImage"}t.getMediaCategoryByMime=getMediaCategoryByMime;function sleepSecs(e){return new Promise((t=>setTimeout(t,e*1e3)))}t.sleepSecs=sleepSecs;async function readNextPartOf(e,t,s=0,r){if(e instanceof Buffer){const r=e.slice(s,s+t);return[r,r.length]}if(!r){throw new Error("Well, we will need a buffer to store file content.")}let i;if(typeof e==="number"){i=await new Promise(((i,n)=>{a.read(e,r,0,t,s,((e,t)=>{if(e)n(e);i(t)}))}))}else{const n=await e.read(r,0,t,s);i=n.bytesRead}return[r,i]}t.readNextPartOf=readNextPartOf},4176:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiv2Labs=void 0;const i=s(8468);const n=r(s(6151));class TwitterApiv2Labs extends n.default{constructor(){super(...arguments);this._prefix=i.API_V2_LABS_PREFIX}get readWrite(){return this}}t.TwitterApiv2Labs=TwitterApiv2Labs;t["default"]=TwitterApiv2Labs},6817:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(2641));const n=s(8468);class TwitterApiv2LabsReadOnly extends i.default{constructor(){super(...arguments);this._prefix=n.API_V2_LABS_PREFIX}}t["default"]=TwitterApiv2LabsReadOnly},6151:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=s(8468);const n=r(s(6817));class TwitterApiv2LabsReadWrite extends n.default{constructor(){super(...arguments);this._prefix=i.API_V2_LABS_PREFIX}get readOnly(){return this}}t["default"]=TwitterApiv2LabsReadWrite},2464:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.TwitterApiv2=void 0;const i=s(8468);const n=r(s(6480));const a=r(s(4176));class TwitterApiv2 extends n.default{constructor(){super(...arguments);this._prefix=i.API_V2_PREFIX}get readWrite(){return this}get labs(){if(this._labs)return this._labs;return this._labs=new a.default(this)}}t.TwitterApiv2=TwitterApiv2;t["default"]=TwitterApiv2},889:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=r(s(2641));const n=s(8468);const a=s(909);const o=r(s(6817));const l=s(1157);const u=s(5134);const c=s(1182);class TwitterApiv2ReadOnly extends i.default{constructor(){super(...arguments);this._prefix=n.API_V2_PREFIX}get labs(){if(this._labs)return this._labs;return this._labs=new o.default(this)}async search(e,t={}){const s=typeof e==="string"?{...t,query:e}:{...e};const r=await this.get("tweets/search/recent",s,{fullResponse:true});return new a.TweetSearchRecentV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}async searchAll(e,t={}){const s={...t,query:e};const r=await this.get("tweets/search/all",s,{fullResponse:true});return new a.TweetSearchAllV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:s})}singleTweet(e,t={}){return this.get("tweets/:id",t,{params:{id:e}})}tweets(e,t={}){return this.get("tweets",{ids:e,...t})}tweetCountRecent(e,t={}){return this.get("tweets/counts/recent",{query:e,...t})}tweetCountAll(e,t={}){return this.get("tweets/counts/all",{query:e,...t})}async tweetRetweetedBy(e,t={}){const{asPaginator:s,...r}=t;const i=await this.get("tweets/:id/retweeted_by",r,{fullResponse:true,params:{id:e}});if(!s){return i.data}return new l.TweetRetweetersUsersV2Paginator({realData:i.data,rateLimit:i.rateLimit,instance:this,queryParams:r,sharedParams:{id:e}})}async tweetLikedBy(e,t={}){const{asPaginator:s,...r}=t;const i=await this.get("tweets/:id/liking_users",r,{fullResponse:true,params:{id:e}});if(!s){return i.data}return new l.TweetLikingUsersV2Paginator({realData:i.data,rateLimit:i.rateLimit,instance:this,queryParams:r,sharedParams:{id:e}})}async homeTimeline(e={}){const t=await this.getCurrentUserV2Object();const s=await this.get("users/:id/timelines/reverse_chronological",e,{fullResponse:true,params:{id:t.data.id}});return new a.TweetHomeTimelineV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:e,sharedParams:{id:t.data.id}})}async userTimeline(e,t={}){const s=await this.get("users/:id/tweets",t,{fullResponse:true,params:{id:e}});return new a.TweetUserTimelineV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async userMentionTimeline(e,t={}){const s=await this.get("users/:id/mentions",t,{fullResponse:true,params:{id:e}});return new a.TweetUserMentionTimelineV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async quotes(e,t={}){const s=await this.get("tweets/:id/quote_tweets",t,{fullResponse:true,params:{id:e}});return new a.QuotedTweetsTimelineV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async bookmarks(e={}){const t=await this.getCurrentUserV2Object();const s=await this.get("users/:id/bookmarks",e,{fullResponse:true,params:{id:t.data.id}});return new a.TweetBookmarksTimelineV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:e,sharedParams:{id:t.data.id}})}me(e={}){return this.get("users/me",e)}user(e,t={}){return this.get("users/:id",t,{params:{id:e}})}users(e,t={}){const s=Array.isArray(e)?e.join(","):e;return this.get("users",{...t,ids:s})}userByUsername(e,t={}){return this.get("users/by/username/:username",t,{params:{username:e}})}usersByUsernames(e,t={}){e=Array.isArray(e)?e.join(","):e;return this.get("users/by",{...t,usernames:e})}async followers(e,t={}){const{asPaginator:s,...r}=t;const i={id:e};if(!s){return this.get("users/:id/followers",r,{params:i})}const n=await this.get("users/:id/followers",r,{fullResponse:true,params:i});return new l.UserFollowersV2Paginator({realData:n.data,rateLimit:n.rateLimit,instance:this,queryParams:r,sharedParams:i})}async following(e,t={}){const{asPaginator:s,...r}=t;const i={id:e};if(!s){return this.get("users/:id/following",r,{params:i})}const n=await this.get("users/:id/following",r,{fullResponse:true,params:i});return new l.UserFollowingV2Paginator({realData:n.data,rateLimit:n.rateLimit,instance:this,queryParams:r,sharedParams:i})}async userLikedTweets(e,t={}){const s={id:e};const r=await this.get("users/:id/liked_tweets",t,{fullResponse:true,params:s});return new a.TweetV2UserLikedTweetsPaginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async userBlockingUsers(e,t={}){const s={id:e};const r=await this.get("users/:id/blocking",t,{fullResponse:true,params:s});return new l.UserBlockingUsersV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async userMutingUsers(e,t={}){const s={id:e};const r=await this.get("users/:id/muting",t,{fullResponse:true,params:s});return new l.UserMutingUsersV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}list(e,t={}){return this.get("lists/:id",t,{params:{id:e}})}async listsOwned(e,t={}){const s={id:e};const r=await this.get("users/:id/owned_lists",t,{fullResponse:true,params:s});return new a.UserOwnedListsV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listMemberships(e,t={}){const s={id:e};const r=await this.get("users/:id/list_memberships",t,{fullResponse:true,params:s});return new a.UserListMembershipsV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listFollowed(e,t={}){const s={id:e};const r=await this.get("users/:id/followed_lists",t,{fullResponse:true,params:s});return new a.UserListFollowedV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listTweets(e,t={}){const s={id:e};const r=await this.get("lists/:id/tweets",t,{fullResponse:true,params:s});return new a.TweetV2ListTweetsPaginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listMembers(e,t={}){const s={id:e};const r=await this.get("lists/:id/members",t,{fullResponse:true,params:s});return new l.UserListMembersV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listFollowers(e,t={}){const s={id:e};const r=await this.get("lists/:id/followers",t,{fullResponse:true,params:s});return new l.UserListFollowersV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listDmEvents(e={}){const t=await this.get("dm_events",e,{fullResponse:true});return new c.FullDMTimelineV2Paginator({realData:t.data,rateLimit:t.rateLimit,instance:this,queryParams:{...e}})}async listDmEventsWithParticipant(e,t={}){const s={participant_id:e};const r=await this.get("dm_conversations/with/:participant_id/dm_events",t,{fullResponse:true,params:s});return new c.OneToOneDMTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}async listDmEventsOfConversation(e,t={}){const s={dm_conversation_id:e};const r=await this.get("dm_conversations/:dm_conversation_id/dm_events",t,{fullResponse:true,params:s});return new c.ConversationDMTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:{...t},sharedParams:s})}space(e,t={}){return this.get("spaces/:id",t,{params:{id:e}})}spaces(e,t={}){return this.get("spaces",{ids:e,...t})}spacesByCreators(e,t={}){return this.get("spaces/by/creator_ids",{user_ids:e,...t})}searchSpaces(e){return this.get("spaces/search",e)}spaceBuyers(e,t={}){return this.get("spaces/:id/buyers",t,{params:{id:e}})}spaceTweets(e,t={}){return this.get("spaces/:id/tweets",t,{params:{id:e}})}searchStream({autoConnect:e,...t}={}){return this.getStream("tweets/search/stream",t,{payloadIsError:u.isTweetStreamV2ErrorPayload,autoConnect:e})}streamRules(e={}){return this.get("tweets/search/stream/rules",e)}updateStreamRules(e,t={}){return this.post("tweets/search/stream/rules",e,{query:t})}sampleStream({autoConnect:e,...t}={}){return this.getStream("tweets/sample/stream",t,{payloadIsError:u.isTweetStreamV2ErrorPayload,autoConnect:e})}sample10Stream({autoConnect:e,...t}={}){return this.getStream("tweets/sample10/stream",t,{payloadIsError:u.isTweetStreamV2ErrorPayload,autoConnect:e})}complianceJobs(e){return this.get("compliance/jobs",e)}complianceJob(e){return this.get("compliance/jobs/:id",undefined,{params:{id:e}})}async sendComplianceJob(e){const t=await this.post("compliance/jobs",{type:e.type,name:e.name});const s=e.ids instanceof Buffer?e.ids:Buffer.from(e.ids.join("\n"));await this.put(t.data.upload_url,s,{forceBodyMode:"raw",enableAuth:false,headers:{"Content-Type":"text/plain"},prefix:""});return t}async complianceJobResult(e){let t=e;while(t.status!=="complete"){if(t.status==="expired"||t.status==="failed"){throw new Error("Job failed to be completed.")}await new Promise((e=>setTimeout(e,3500)));t=(await this.complianceJob(e.id)).data}const s=await this.get(e.download_url,undefined,{enableAuth:false,prefix:""});return s.trim().split("\n").filter((e=>e)).map((e=>JSON.parse(e)))}}t["default"]=TwitterApiv2ReadOnly},6480:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=s(8468);const n=r(s(889));const a=r(s(6151));class TwitterApiv2ReadWrite extends n.default{constructor(){super(...arguments);this._prefix=i.API_V2_PREFIX}get readOnly(){return this}get labs(){if(this._labs)return this._labs;return this._labs=new a.default(this)}hideReply(e,t){return this.put("tweets/:id/hidden",{hidden:t},{params:{id:e}})}like(e,t){return this.post("users/:id/likes",{tweet_id:t},{params:{id:e}})}unlike(e,t){return this.delete("users/:id/likes/:tweet_id",undefined,{params:{id:e,tweet_id:t}})}retweet(e,t){return this.post("users/:id/retweets",{tweet_id:t},{params:{id:e}})}unretweet(e,t){return this.delete("users/:id/retweets/:tweet_id",undefined,{params:{id:e,tweet_id:t}})}tweet(e,t={}){if(typeof e==="object"){t=e}else{t={text:e,...t}}return this.post("tweets",t)}reply(e,t,s={}){var r;const i={in_reply_to_tweet_id:t,...(r=s.reply)!==null&&r!==void 0?r:{}};return this.post("tweets",{text:e,...s,reply:i})}quote(e,t,s={}){return this.tweet(e,{...s,quote_tweet_id:t})}async tweetThread(e){var t,s;const r=[];for(const i of e){const e=r.length?r[r.length-1]:null;const n={...typeof i==="string"?{text:i}:i};const a=e?e.data.id:(t=n.reply)===null||t===void 0?void 0:t.in_reply_to_tweet_id;const o=(s=n.text)!==null&&s!==void 0?s:"";if(a){r.push(await this.reply(o,a,n))}else{r.push(await this.tweet(o,n))}}return r}deleteTweet(e){return this.delete("tweets/:id",undefined,{params:{id:e}})}async bookmark(e){const t=await this.getCurrentUserV2Object();return this.post("users/:id/bookmarks",{tweet_id:e},{params:{id:t.data.id}})}async deleteBookmark(e){const t=await this.getCurrentUserV2Object();return this.delete("users/:id/bookmarks/:tweet_id",undefined,{params:{id:t.data.id,tweet_id:e}})}follow(e,t){return this.post("users/:id/following",{target_user_id:t},{params:{id:e}})}unfollow(e,t){return this.delete("users/:source_user_id/following/:target_user_id",undefined,{params:{source_user_id:e,target_user_id:t}})}block(e,t){return this.post("users/:id/blocking",{target_user_id:t},{params:{id:e}})}unblock(e,t){return this.delete("users/:source_user_id/blocking/:target_user_id",undefined,{params:{source_user_id:e,target_user_id:t}})}mute(e,t){return this.post("users/:id/muting",{target_user_id:t},{params:{id:e}})}unmute(e,t){return this.delete("users/:source_user_id/muting/:target_user_id",undefined,{params:{source_user_id:e,target_user_id:t}})}createList(e){return this.post("lists",e)}updateList(e,t={}){return this.put("lists/:id",t,{params:{id:e}})}removeList(e){return this.delete("lists/:id",undefined,{params:{id:e}})}addListMember(e,t){return this.post("lists/:id/members",{user_id:t},{params:{id:e}})}removeListMember(e,t){return this.delete("lists/:id/members/:user_id",undefined,{params:{id:e,user_id:t}})}subscribeToList(e,t){return this.post("users/:id/followed_lists",{list_id:t},{params:{id:e}})}unsubscribeOfList(e,t){return this.delete("users/:id/followed_lists/:list_id",undefined,{params:{id:e,list_id:t}})}pinList(e,t){return this.post("users/:id/pinned_lists",{list_id:t},{params:{id:e}})}unpinList(e,t){return this.delete("users/:id/pinned_lists/:list_id",undefined,{params:{id:e,list_id:t}})}sendDmInConversation(e,t){return this.post("dm_conversations/:dm_conversation_id/messages",t,{params:{dm_conversation_id:e}})}sendDmToParticipant(e,t){return this.post("dm_conversations/with/:participant_id/messages",t,{params:{participant_id:e}})}createDmConversation(e){return this.post("dm_conversations",e)}}t["default"]=TwitterApiv2ReadWrite},7269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TwitterV2IncludesHelper=void 0;class TwitterV2IncludesHelper{constructor(e){this.result=e}get tweets(){return TwitterV2IncludesHelper.tweets(this.result)}static tweets(e){var t,s;return(s=(t=e.includes)===null||t===void 0?void 0:t.tweets)!==null&&s!==void 0?s:[]}tweetById(e){return TwitterV2IncludesHelper.tweetById(this.result,e)}static tweetById(e,t){return this.tweets(e).find((e=>e.id===t))}retweet(e){return TwitterV2IncludesHelper.retweet(this.result,e)}static retweet(e,t){var s;const r=((s=t.referenced_tweets)!==null&&s!==void 0?s:[]).filter((e=>e.type==="retweeted")).map((e=>e.id));return this.tweets(e).find((e=>r.includes(e.id)))}quote(e){return TwitterV2IncludesHelper.quote(this.result,e)}static quote(e,t){var s;const r=((s=t.referenced_tweets)!==null&&s!==void 0?s:[]).filter((e=>e.type==="quoted")).map((e=>e.id));return this.tweets(e).find((e=>r.includes(e.id)))}repliedTo(e){return TwitterV2IncludesHelper.repliedTo(this.result,e)}static repliedTo(e,t){var s;const r=((s=t.referenced_tweets)!==null&&s!==void 0?s:[]).filter((e=>e.type==="replied_to")).map((e=>e.id));return this.tweets(e).find((e=>r.includes(e.id)))}author(e){return TwitterV2IncludesHelper.author(this.result,e)}static author(e,t){const s=t.author_id;return s?this.users(e).find((e=>e.id===s)):undefined}repliedToAuthor(e){return TwitterV2IncludesHelper.repliedToAuthor(this.result,e)}static repliedToAuthor(e,t){const s=t.in_reply_to_user_id;return s?this.users(e).find((e=>e.id===s)):undefined}get users(){return TwitterV2IncludesHelper.users(this.result)}static users(e){var t,s;return(s=(t=e.includes)===null||t===void 0?void 0:t.users)!==null&&s!==void 0?s:[]}userById(e){return TwitterV2IncludesHelper.userById(this.result,e)}static userById(e,t){return this.users(e).find((e=>e.id===t))}pinnedTweet(e){return TwitterV2IncludesHelper.pinnedTweet(this.result,e)}static pinnedTweet(e,t){return t.pinned_tweet_id?this.tweets(e).find((e=>e.id===t.pinned_tweet_id)):undefined}get media(){return TwitterV2IncludesHelper.media(this.result)}static media(e){var t,s;return(s=(t=e.includes)===null||t===void 0?void 0:t.media)!==null&&s!==void 0?s:[]}medias(e){return TwitterV2IncludesHelper.medias(this.result,e)}static medias(e,t){var s,r;const i=(r=(s=t.attachments)===null||s===void 0?void 0:s.media_keys)!==null&&r!==void 0?r:[];return this.media(e).filter((e=>i.includes(e.media_key)))}get polls(){return TwitterV2IncludesHelper.polls(this.result)}static polls(e){var t,s;return(s=(t=e.includes)===null||t===void 0?void 0:t.polls)!==null&&s!==void 0?s:[]}poll(e){return TwitterV2IncludesHelper.poll(this.result,e)}static poll(e,t){var s,r;const i=(r=(s=t.attachments)===null||s===void 0?void 0:s.poll_ids)!==null&&r!==void 0?r:[];if(i.length){const t=i[0];return this.polls(e).find((e=>e.id===t))}return undefined}get places(){return TwitterV2IncludesHelper.places(this.result)}static places(e){var t,s;return(s=(t=e.includes)===null||t===void 0?void 0:t.places)!==null&&s!==void 0?s:[]}place(e){return TwitterV2IncludesHelper.place(this.result,e)}static place(e,t){var s;const r=(s=t.geo)===null||s===void 0?void 0:s.place_id;return r?this.places(e).find((e=>e.id===r)):undefined}listOwner(e){return TwitterV2IncludesHelper.listOwner(this.result,e)}static listOwner(e,t){const s=t.owner_id;return s?this.users(e).find((e=>e.id===s)):undefined}spaceCreator(e){return TwitterV2IncludesHelper.spaceCreator(this.result,e)}static spaceCreator(e,t){const s=t.creator_id;return s?this.users(e).find((e=>e.id===s)):undefined}spaceHosts(e){return TwitterV2IncludesHelper.spaceHosts(this.result,e)}static spaceHosts(e,t){var s;const r=(s=t.host_ids)!==null&&s!==void 0?s:[];return this.users(e).filter((e=>r.includes(e.id)))}spaceSpeakers(e){return TwitterV2IncludesHelper.spaceSpeakers(this.result,e)}static spaceSpeakers(e,t){var s;const r=(s=t.speaker_ids)!==null&&s!==void 0?s:[];return this.users(e).filter((e=>r.includes(e.id)))}spaceInvitedUsers(e){return TwitterV2IncludesHelper.spaceInvitedUsers(this.result,e)}static spaceInvitedUsers(e,t){var s;const r=(s=t.invited_user_ids)!==null&&s!==void 0?s:[];return this.users(e).filter((e=>r.includes(e.id)))}}t.TwitterV2IncludesHelper=TwitterV2IncludesHelper},6101:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return r.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return h.default}});var r=_interopRequireDefault(s(6476));var i=_interopRequireDefault(s(4280));var n=_interopRequireDefault(s(4034));var a=_interopRequireDefault(s(8867));var o=_interopRequireDefault(s(5813));var l=_interopRequireDefault(s(4110));var u=_interopRequireDefault(s(8169));var c=_interopRequireDefault(s(9045));var h=_interopRequireDefault(s(6913));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},2755:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r.default.createHash("md5").update(e).digest()}var i=md5;t["default"]=i},5813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s="00000000-0000-0000-0000-000000000000";t["default"]=s},6913:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(8169));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,r.default)(e)){throw TypeError("Invalid UUID")}let t;const s=new Uint8Array(16);s[0]=(t=parseInt(e.slice(0,8),16))>>>24;s[1]=t>>>16&255;s[2]=t>>>8&255;s[3]=t&255;s[4]=(t=parseInt(e.slice(9,13),16))>>>8;s[5]=t&255;s[6]=(t=parseInt(e.slice(14,18),16))>>>8;s[7]=t&255;s[8]=(t=parseInt(e.slice(19,23),16))>>>8;s[9]=t&255;s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;s[11]=t/4294967296&255;s[12]=t>>>24&255;s[13]=t>>>16&255;s[14]=t>>>8&255;s[15]=t&255;return s}var i=parse;t["default"]=i},9347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=s},1672:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var r=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=new Uint8Array(256);let n=i.length;function rng(){if(n>i.length-16){r.default.randomFillSync(i);n=0}return i.slice(n,n+=16)}},6868:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r.default.createHash("sha1").update(e).digest()}var i=sha1;t["default"]=i},9045:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(8169));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=[];for(let e=0;e<256;++e){i.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const s=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,r.default)(s)){throw TypeError("Stringified UUID is invalid")}return s}var n=stringify;t["default"]=n},6476:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(1672));var i=_interopRequireDefault(s(9045));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let n;let a;let o=0;let l=0;function v1(e,t,s){let u=t&&s||0;const c=t||new Array(16);e=e||{};let h=e.node||n;let d=e.clockseq!==undefined?e.clockseq:a;if(h==null||d==null){const t=e.random||(e.rng||r.default)();if(h==null){h=n=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(d==null){d=a=(t[6]<<8|t[7])&16383}}let f=e.msecs!==undefined?e.msecs:Date.now();let p=e.nsecs!==undefined?e.nsecs:l+1;const g=f-o+(p-l)/1e4;if(g<0&&e.clockseq===undefined){d=d+1&16383}if((g<0||f>o)&&e.nsecs===undefined){p=0}if(p>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}o=f;l=p;a=d;f+=122192928e5;const w=((f&268435455)*1e4+p)%4294967296;c[u++]=w>>>24&255;c[u++]=w>>>16&255;c[u++]=w>>>8&255;c[u++]=w&255;const y=f/4294967296*1e4&268435455;c[u++]=y>>>8&255;c[u++]=y&255;c[u++]=y>>>24&15|16;c[u++]=y>>>16&255;c[u++]=d>>>8|128;c[u++]=d&255;for(let e=0;e<6;++e){c[u+e]=h[e]}return t||(0,i.default)(c)}var u=v1;t["default"]=u},4280:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(7059));var i=_interopRequireDefault(s(2755));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=(0,r.default)("v3",48,i.default);var a=n;t["default"]=a},7059:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var r=_interopRequireDefault(s(9045));var i=_interopRequireDefault(s(6913));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s){t.push(e.charCodeAt(s))}return t}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=n;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a;function _default(e,t,s){function generateUUID(e,n,a,o){if(typeof e==="string"){e=stringToBytes(e)}if(typeof n==="string"){n=(0,i.default)(n)}if(n.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let l=new Uint8Array(16+e.length);l.set(n);l.set(e,n.length);l=s(l);l[6]=l[6]&15|t;l[8]=l[8]&63|128;if(a){o=o||0;for(let e=0;e<16;++e){a[o+e]=l[e]}return a}return(0,r.default)(l)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=n;generateUUID.URL=a;return generateUUID}},4034:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(1672));var i=_interopRequireDefault(s(9045));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,s){e=e||{};const n=e.random||(e.rng||r.default)();n[6]=n[6]&15|64;n[8]=n[8]&63|128;if(t){s=s||0;for(let e=0;e<16;++e){t[s+e]=n[e]}return t}return(0,i.default)(n)}var n=v4;t["default"]=n},8867:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(7059));var i=_interopRequireDefault(s(6868));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=(0,r.default)("v5",80,i.default);var a=n;t["default"]=a},8169:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(9347));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&r.default.test(e)}var i=validate;t["default"]=i},4110:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(s(8169));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,r.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var i=version;t["default"]=i},4860:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.tokens=void 0;const a=n(s(7483));a.config();t.tokens={appKey:process.env.CONSUMER_KEY,appSecret:process.env.CONSUMER_SECRET,accessToken:process.env.ACCESS_TOKEN,accessSecret:process.env.ACCESS_TOKEN_SECRET}},7558:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__awaiter||function(e,t,s,r){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const l=o(s(7002));const u=o(s(1017));const c=n(s(386));const h=s(6845);const d=s(4860);c.setSecret("consumer_key");c.setSecret("consumer_secret");c.setSecret("access_token");c.setSecret("access_token_secret");const tweetItem=e=>{const t=c.getInput("hostname",{required:true});const s=`New post: ${t}/${e}`;console.log(`newTweet`,s);const r=c.getInput("end-with")||"...";const i=r.length;const n=280-i;const a=s.length>n?`${s.substring(0,n)}${r}`:s;try{const e=new h.TwitterApi(d.tokens);e.v2.tweet(a).then((()=>console.log("Tweeted!")))}catch(e){c.setFailed(e.message)}};const getTweetData=()=>{const e=u.default.resolve(c.getInput("path",{required:true}));(0,l.default)("**/*.md",{cwd:e}).then((t=>a(void 0,void 0,void 0,(function*(){const s=yield Promise.all(t.map((e=>e)));const r=s.map((e=>e)).at(0);const i=`${e}/${r}`;const n=i.substring(0,i.lastIndexOf(".md"));const a=n.split("/").at(-1);console.log(`slug`,a);if(a){tweetItem(a)}return}))))};getTweetData()},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4708:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Glob=void 0;const r=s(8619);const i=s(4663);const n=s(7310);const a=s(6131);const o=s(8897);const l=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(e,t){this.withFileTypes=!!t.withFileTypes;this.signal=t.signal;this.follow=!!t.follow;this.dot=!!t.dot;this.dotRelative=!!t.dotRelative;this.nodir=!!t.nodir;this.mark=!!t.mark;if(!t.cwd){this.cwd=""}else if(t.cwd instanceof URL||t.cwd.startsWith("file://")){t.cwd=(0,n.fileURLToPath)(t.cwd)}this.cwd=t.cwd||"";this.root=t.root;this.magicalBraces=!!t.magicalBraces;this.nobrace=!!t.nobrace;this.noext=!!t.noext;this.realpath=!!t.realpath;this.absolute=t.absolute;this.noglobstar=!!t.noglobstar;this.matchBase=!!t.matchBase;this.maxDepth=typeof t.maxDepth==="number"?t.maxDepth:Infinity;this.stat=!!t.stat;this.ignore=t.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof e==="string"){e=[e]}this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===false;if(this.windowsPathsNoEscape){e=e.map((e=>e.replace(/\\/g,"/")))}if(this.matchBase){if(t.noglobstar){throw new TypeError("base matching requires globstar")}e=e.map((e=>e.includes("/")?e:`./**/${e}`))}this.pattern=e;this.platform=t.platform||l;this.opts={...t,platform:this.platform};if(t.scurry){this.scurry=t.scurry;if(t.nocase!==undefined&&t.nocase!==t.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const e=t.platform==="win32"?i.PathScurryWin32:t.platform==="darwin"?i.PathScurryDarwin:t.platform?i.PathScurryPosix:i.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const s={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:true,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape};const o=this.pattern.map((e=>new r.Minimatch(e,s)));const[u,c]=o.reduce(((e,t)=>{e[0].push(...t.set);e[1].push(...t.globParts);return e}),[[],[]]);this.patterns=u.map(((e,t)=>new a.Pattern(e,c[t],0,this.platform)))}async walk(){return[...await new o.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new o.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new o.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new o.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}t.Glob=Glob},4704:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hasMagic=void 0;const r=s(8619);const hasMagic=(e,t={})=>{if(!Array.isArray(e)){e=[e]}for(const s of e){if(new r.Minimatch(s,t).hasMagic())return true}return false};t.hasMagic=hasMagic},2281:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Ignore=void 0;const r=s(8619);const i=s(6131);const n=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;constructor(e,{nobrace:t,nocase:s,noext:a,noglobstar:o,platform:l=n}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];const u={dot:true,nobrace:t,nocase:s,noext:a,noglobstar:o,optimizationLevel:2,platform:l,nocomment:true,nonegate:true};for(const t of e){const e=new r.Minimatch(t,u);for(let t=0;t<e.set.length;t++){const s=e.set[t];const n=e.globParts[t];const a=new i.Pattern(s,n,0,l);const o=new r.Minimatch(a.globString(),u);const c=n[n.length-1]==="**";const h=a.isAbsolute();if(h)this.absolute.push(o);else this.relative.push(o);if(c){if(h)this.absoluteChildren.push(o);else this.relativeChildren.push(o)}}}}ignored(e){const t=e.fullpath();const s=`${t}/`;const r=e.relative()||".";const i=`${r}/`;for(const e of this.relative){if(e.match(r)||e.match(i))return true}for(const e of this.absolute){if(e.match(t)||e.match(s))return true}return false}childrenIgnored(e){const t=e.fullpath()+"/";const s=(e.relative()||".")+"/";for(const e of this.relativeChildren){if(e.match(s))return true}for(const e of this.absoluteChildren){if(e.match(t))true}return false}}t.Ignore=Ignore},7002:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(s(8749));e.exports=Object.assign(i.default,{default:i.default,glob:i.default})},8749:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hasMagic=t.Glob=t.unescape=t.escape=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.glob=t.globSync=t.globStream=t.globStreamSync=void 0;const r=s(8619);const i=s(4708);const n=s(4704);function globStreamSync(e,t={}){return new i.Glob(e,t).streamSync()}t.globStreamSync=globStreamSync;function globStream(e,t={}){return new i.Glob(e,t).stream()}t.globStream=globStream;function globSync(e,t={}){return new i.Glob(e,t).walkSync()}t.globSync=globSync;async function glob(e,t={}){return new i.Glob(e,t).walk()}t.glob=glob;function globIterateSync(e,t={}){return new i.Glob(e,t).iterateSync()}t.globIterateSync=globIterateSync;function globIterate(e,t={}){return new i.Glob(e,t).iterate()}t.globIterate=globIterate;t.streamSync=globStreamSync;t.stream=Object.assign(globStream,{sync:globStreamSync});t.iterateSync=globIterateSync;t.iterate=Object.assign(globIterate,{sync:globIterateSync});t.sync=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});var a=s(8619);Object.defineProperty(t,"escape",{enumerable:true,get:function(){return a.escape}});Object.defineProperty(t,"unescape",{enumerable:true,get:function(){return a.unescape}});var o=s(4708);Object.defineProperty(t,"Glob",{enumerable:true,get:function(){return o.Glob}});var l=s(4704);Object.defineProperty(t,"hasMagic",{enumerable:true,get:function(){return l.hasMagic}});t["default"]=Object.assign(glob,{glob:glob,globSync:globSync,sync:t.sync,globStream:globStream,stream:t.stream,globStreamSync:globStreamSync,streamSync:t.streamSync,globIterate:globIterate,iterate:t.iterate,globIterateSync:globIterateSync,iterateSync:t.iterateSync,Glob:i.Glob,hasMagic:n.hasMagic,escape:r.escape,unescape:r.unescape})},6131:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Pattern=void 0;const r=s(8619);const isPatternList=e=>e.length>=1;const isGlobList=e=>e.length>=1;class Pattern{#e;#t;#s;length;#r;#i;#n;#a;#o;#l;#u=true;constructor(e,t,s,r){if(!isPatternList(e)){throw new TypeError("empty pattern list")}if(!isGlobList(t)){throw new TypeError("empty glob list")}if(t.length!==e.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=e.length;if(s<0||s>=this.length){throw new TypeError("index out of range")}this.#e=e;this.#t=t;this.#s=s;this.#r=r;if(this.#s===0){if(this.isUNC()){const[e,t,s,r,...i]=this.#e;const[n,a,o,l,...u]=this.#t;if(i[0]===""){i.shift();u.shift()}const c=[e,t,s,r,""].join("/");const h=[n,a,o,l,""].join("/");this.#e=[c,...i];this.#t=[h,...u];this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#e;const[s,...r]=this.#t;if(t[0]===""){t.shift();r.shift()}const i=e+"/";const n=s+"/";this.#e=[i,...t];this.#t=[n,...r];this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]==="string"}isGlobstar(){return this.#e[this.#s]===r.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#n=this.#n||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){if(this.#i!==undefined)return this.#i;if(!this.hasMore())return this.#i=null;this.#i=new Pattern(this.#e,this.#t,this.#s+1,this.#r);this.#i.#l=this.#l;this.#i.#o=this.#o;this.#i.#a=this.#a;return this.#i}isUNC(){const e=this.#e;return this.#o!==undefined?this.#o:this.#o=this.#r==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]==="string"&&!!e[2]&&typeof e[3]==="string"&&!!e[3]}isDrive(){const e=this.#e;return this.#a!==undefined?this.#a:this.#a=this.#r==="win32"&&this.#s===0&&this.length>1&&typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return this.#l!==undefined?this.#l:this.#l=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return typeof e==="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#u)}markFollowGlobstar(){if(this.#s===0||!this.isGlobstar()||!this.#u)return false;this.#u=false;return true}}t.Pattern=Pattern},881:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Processor=t.SubWalks=t.MatchRecord=t.HasWalkedCache=void 0;const r=s(8619);class HasWalkedCache{store;constructor(e=new Map){this.store=e}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const s=e.fullpath();const r=this.store.get(s);if(r)r.add(t.globString());else this.store.set(s,new Set([t.globString()]))}}t.HasWalkedCache=HasWalkedCache;class MatchRecord{store=new Map;add(e,t,s){const r=(t?2:0)|(s?1:0);const i=this.store.get(e);this.store.set(e,i===undefined?r:r&i)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(t&2),!!(t&1)]))}}t.MatchRecord=MatchRecord;class SubWalks{store=new Map;add(e,t){if(!e.canReaddir()){return}const s=this.store.get(e);if(s){if(!s.find((e=>e.globString()===t.globString()))){s.push(t)}}else this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t){throw new Error("attempting to walk unknown path")}return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}t.SubWalks=SubWalks;class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(e,t){this.opts=e;this.follow=!!e.follow;this.dot=!!e.dot;this.hasWalkedCache=t?t.copy():new HasWalkedCache}processPatterns(e,t){this.patterns=t;const s=t.map((t=>[e,t]));for(let[e,t]of s){this.hasWalkedCache.storeWalked(e,t);const s=t.root();const i=t.isAbsolute()&&this.opts.absolute!==false;if(s){e=e.resolve(s==="/"&&this.opts.root!==undefined?this.opts.root:s);const r=t.rest();if(!r){this.matches.add(e,true,false);continue}else{t=r}}if(e.isENOENT())continue;let n;let a;let o=false;while(typeof(n=t.pattern())==="string"&&(a=t.rest())){const s=e.resolve(n);if(s.isUnknown()&&n!=="..")break;e=s;t=a;o=true}n=t.pattern();a=t.rest();if(o){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if(typeof n==="string"){if(!a){const t=n===".."||n===""||n===".";this.matches.add(e.resolve(n),i,t)}else{this.subwalks.add(e,t)}continue}else if(n===r.GLOBSTAR){if(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar()){this.subwalks.add(e,t)}const s=a?.pattern();const r=a?.rest();if(!a||(s===""||s===".")&&!r){this.matches.add(e,i,s===""||s===".")}else{if(s===".."){const t=e.parent||e;if(!r)this.matches.add(t,i,true);else if(!this.hasWalkedCache.hasWalked(t,r)){this.subwalks.add(t,r)}}}}else if(n instanceof RegExp){this.subwalks.add(e,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(e,t){const s=this.subwalks.get(e);const i=this.child();for(const e of t){for(const t of s){const s=t.isAbsolute();const n=t.pattern();const a=t.rest();if(n===r.GLOBSTAR){i.testGlobstar(e,t,a,s)}else if(n instanceof RegExp){i.testRegExp(e,n,a,s)}else{i.testString(e,n,a,s)}}}return i}testGlobstar(e,t,s,r){if(this.dot||!e.name.startsWith(".")){if(!t.hasMore()){this.matches.add(e,r,false)}if(e.canReaddir()){if(this.follow||!e.isSymbolicLink()){this.subwalks.add(e,t)}else if(e.isSymbolicLink()){if(s&&t.checkFollowGlobstar()){this.subwalks.add(e,s)}else if(t.markFollowGlobstar()){this.subwalks.add(e,t)}}}}if(s){const t=s.pattern();if(typeof t==="string"&&t!==".."&&t!==""&&t!=="."){this.testString(e,t,s.rest(),r)}else if(t===".."){const t=e.parent||e;this.subwalks.add(t,s)}else if(t instanceof RegExp){this.testRegExp(e,t,s.rest(),r)}}}testRegExp(e,t,s,r){if(!t.test(e.name))return;if(!s){this.matches.add(e,r,false)}else{this.subwalks.add(e,s)}}testString(e,t,s,r){if(!e.isNamed(t))return;if(!s){this.matches.add(e,r,false)}else{this.subwalks.add(e,s)}}}t.Processor=Processor},8897:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.GlobStream=t.GlobWalker=t.GlobUtil=void 0;const i=r(s(8847));const n=s(2281);const a=s(881);const makeIgnore=(e,t)=>typeof e==="string"?new n.Ignore([e],t):Array.isArray(e)?new n.Ignore(e,t):e;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#c=[];#h;#d;signal;maxDepth;constructor(e,t,s){this.patterns=e;this.path=t;this.opts=s;this.#d=s.platform==="win32"?"\\":"/";if(s.ignore){this.#h=makeIgnore(s.ignore,s)}this.maxDepth=s.maxDepth||Infinity;if(s.signal){this.signal=s.signal;this.signal.addEventListener("abort",(()=>{this.#c.length=0}))}}#f(e){return this.seen.has(e)||!!this.#h?.ignored?.(e)}#p(e){return!!this.#h?.childrenIgnored?.(e)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let e=undefined;while(!this.paused&&(e=this.#c.shift())){e()}}onResume(e){if(this.signal?.aborted)return;if(!this.paused){e()}else{this.#c.push(e)}}async matchCheck(e,t){if(t&&this.opts.nodir)return undefined;let s;if(this.opts.realpath){s=e.realpathCached()||await e.realpath();if(!s)return undefined;e=s}const r=e.isUnknown()||this.opts.stat;return this.matchCheckTest(r?await e.lstat():e,t)}matchCheckTest(e,t){return e&&(this.maxDepth===Infinity||e.depth()<=this.maxDepth)&&(!t||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&!this.#f(e)?e:undefined}matchCheckSync(e,t){if(t&&this.opts.nodir)return undefined;let s;if(this.opts.realpath){s=e.realpathCached()||e.realpathSync();if(!s)return undefined;e=s}const r=e.isUnknown()||this.opts.stat;return this.matchCheckTest(r?e.lstatSync():e,t)}matchFinish(e,t){if(this.#f(e))return;const s=this.opts.absolute===undefined?t:this.opts.absolute;this.seen.add(e);const r=this.opts.mark&&e.isDirectory()?this.#d:"";if(this.opts.withFileTypes){this.matchEmit(e)}else if(s){this.matchEmit(e.fullpath()+r)}else{const t=e.relative();const s=this.opts.dotRelative&&!t.startsWith(".."+this.#d)?"."+this.#d:"";this.matchEmit(!t&&r?"."+r:s+t+r)}}async match(e,t,s){const r=await this.matchCheck(e,s);if(r)this.matchFinish(r,t)}matchSync(e,t,s){const r=this.matchCheckSync(e,s);if(r)this.matchFinish(r,t)}walkCB(e,t,s){if(this.signal?.aborted)s();this.walkCB2(e,t,new a.Processor(this.opts),s)}walkCB2(e,t,s,r){if(this.#p(e))return r();if(this.signal?.aborted)r();if(this.paused){this.onResume((()=>this.walkCB2(e,t,s,r)));return}s.processPatterns(e,t);let i=1;const next=()=>{if(--i===0)r()};for(const[e,t,r]of s.matches.entries()){if(this.#f(e))continue;i++;this.match(e,t,r).then((()=>next()))}for(const e of s.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}i++;const t=e.readdirCached();if(e.calledReaddir())this.walkCB3(e,t,s,next);else{e.readdirCB(((t,r)=>this.walkCB3(e,r,s,next)),true)}}next()}walkCB3(e,t,s,r){s=s.filterEntries(e,t);let i=1;const next=()=>{if(--i===0)r()};for(const[e,t,r]of s.matches.entries()){if(this.#f(e))continue;i++;this.match(e,t,r).then((()=>next()))}for(const[e,t]of s.subwalks.entries()){i++;this.walkCB2(e,t,s.child(),next)}next()}walkCBSync(e,t,s){if(this.signal?.aborted)s();this.walkCB2Sync(e,t,new a.Processor(this.opts),s)}walkCB2Sync(e,t,s,r){if(this.#p(e))return r();if(this.signal?.aborted)r();if(this.paused){this.onResume((()=>this.walkCB2Sync(e,t,s,r)));return}s.processPatterns(e,t);let i=1;const next=()=>{if(--i===0)r()};for(const[e,t,r]of s.matches.entries()){if(this.#f(e))continue;this.matchSync(e,t,r)}for(const e of s.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}i++;const t=e.readdirSync();this.walkCB3Sync(e,t,s,next)}next()}walkCB3Sync(e,t,s,r){s=s.filterEntries(e,t);let i=1;const next=()=>{if(--i===0)r()};for(const[e,t,r]of s.matches.entries()){if(this.#f(e))continue;this.matchSync(e,t,r)}for(const[e,t]of s.subwalks.entries()){i++;this.walkCB2Sync(e,t,s.child(),next)}next()}}t.GlobUtil=GlobUtil;class GlobWalker extends GlobUtil{matches;constructor(e,t,s){super(e,t,s);this.matches=new Set}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){t(this.signal.reason)}else{e(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}t.GlobWalker=GlobWalker;class GlobStream extends GlobUtil{results;constructor(e,t,s){super(e,t,s);this.results=new i.default({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e);if(!this.results.flowing)this.pause()}stream(){const e=this.path;if(e.isUnknown()){e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(e,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}t.GlobStream=GlobStream},9853:e=>{const t=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const s=typeof AbortController==="function";const r=s?AbortController:class AbortController{constructor(){this.signal=new a}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e;this.signal.aborted=true;this.signal.dispatchEvent({type:"abort",target:this.signal})}};const i=typeof AbortSignal==="function";const n=typeof r.AbortSignal==="function";const a=i?AbortSignal:n?r.AbortController:class AbortSignal{constructor(){this.reason=undefined;this.aborted=false;this._listeners=[]}dispatchEvent(e){if(e.type==="abort"){this.aborted=true;this.onabort(e);this._listeners.forEach((t=>t(e)),this)}}onabort(){}addEventListener(e,t){if(e==="abort"){this._listeners.push(t)}}removeEventListener(e,t){if(e==="abort"){this._listeners=this._listeners.filter((e=>e!==t))}}};const o=new Set;const deprecatedOption=(e,t)=>{const s=`LRU_CACHE_OPTION_${e}`;if(shouldWarn(s)){warn(s,`${e} option`,`options.${t}`,LRUCache)}};const deprecatedMethod=(e,t)=>{const s=`LRU_CACHE_METHOD_${e}`;if(shouldWarn(s)){const{prototype:r}=LRUCache;const{get:i}=Object.getOwnPropertyDescriptor(r,e);warn(s,`${e} method`,`cache.${t}()`,i)}};const deprecatedProperty=(e,t)=>{const s=`LRU_CACHE_PROPERTY_${e}`;if(shouldWarn(s)){const{prototype:r}=LRUCache;const{get:i}=Object.getOwnPropertyDescriptor(r,e);warn(s,`${e} property`,`cache.${t}`,i)}};const emitWarning=(...e)=>{typeof process==="object"&&process&&typeof process.emitWarning==="function"?process.emitWarning(...e):console.error(...e)};const shouldWarn=e=>!o.has(e);const warn=(e,t,s,r)=>{o.add(e);const i=`The ${t} is deprecated. Please use ${s} instead.`;emitWarning(i,"DeprecationWarning",e,r)};const isPosInt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e);const getUintArray=e=>!isPosInt(e)?null:e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(e){super(e);this.fill(0)}}class Stack{constructor(e){if(e===0){return[]}const t=getUintArray(e);this.heap=new t(e);this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class LRUCache{constructor(e={}){const{max:t=0,ttl:s,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:n,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:d,maxSize:f=0,maxEntrySize:p=0,sizeCalculation:g,fetchMethod:w,fetchContext:y,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:P,ignoreFetchAbort:T}=e;const{length:S,maxAge:R,stale:E}=e instanceof LRUCache?{}:e;if(t!==0&&!isPosInt(t)){throw new TypeError("max option must be a nonnegative integer")}const O=t?getUintArray(t):Array;if(!O){throw new Error("invalid max value: "+t)}this.max=t;this.maxSize=f;this.maxEntrySize=p||this.maxSize;this.sizeCalculation=g||S;if(this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}this.fetchMethod=w||null;if(this.fetchMethod&&typeof this.fetchMethod!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.fetchContext=y;if(!this.fetchMethod&&y!==undefined){throw new TypeError("cannot set fetchContext without fetchMethod")}this.keyMap=new Map;this.keyList=new Array(t).fill(null);this.valList=new Array(t).fill(null);this.next=new O(t);this.prev=new O(t);this.head=0;this.tail=0;this.free=new Stack(t);this.initialFill=1;this.size=0;if(typeof u==="function"){this.dispose=u}if(typeof c==="function"){this.disposeAfter=c;this.disposed=[]}else{this.disposeAfter=null;this.disposed=null}this.noDisposeOnSet=!!h;this.noUpdateTTL=!!d;this.noDeleteOnFetchRejection=!!_;this.allowStaleOnFetchRejection=!!b;this.allowStaleOnFetchAbort=!!P;this.ignoreFetchAbort=!!T;if(this.maxEntrySize!==0){if(this.maxSize!==0){if(!isPosInt(this.maxSize)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.initializeSizeTracking()}this.allowStale=!!l||!!E;this.noDeleteOnStaleGet=!!v;this.updateAgeOnGet=!!n;this.updateAgeOnHas=!!a;this.ttlResolution=isPosInt(r)||r===0?r:1;this.ttlAutopurge=!!i;this.ttl=s||R||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const e="LRU_CACHE_UNBOUNDED";if(shouldWarn(e)){o.add(e);const t="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(t,"UnboundedCacheWarning",e,LRUCache)}}if(E){deprecatedOption("stale","allowStale")}if(R){deprecatedOption("maxAge","ttl")}if(S){deprecatedOption("length","sizeCalculation")}}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:false})?Infinity:0}initializeTTLTracking(){this.ttls=new ZeroArray(this.max);this.starts=new ZeroArray(this.max);this.setItemTTL=(e,s,r=t.now())=>{this.starts[e]=s!==0?r:0;this.ttls[e]=s;if(s!==0&&this.ttlAutopurge){const t=setTimeout((()=>{if(this.isStale(e)){this.delete(this.keyList[e])}}),s+1);if(t.unref){t.unref()}}};this.updateItemAge=e=>{this.starts[e]=this.ttls[e]!==0?t.now():0};this.statusTTL=(t,s)=>{if(t){t.ttl=this.ttls[s];t.start=this.starts[s];t.now=e||getNow();t.remainingTTL=t.now+t.ttl-t.start}};let e=0;const getNow=()=>{const s=t.now();if(this.ttlResolution>0){e=s;const t=setTimeout((()=>e=0),this.ttlResolution);if(t.unref){t.unref()}}return s};this.getRemainingTTL=t=>{const s=this.keyMap.get(t);if(s===undefined){return 0}return this.ttls[s]===0||this.starts[s]===0?Infinity:this.starts[s]+this.ttls[s]-(e||getNow())};this.isStale=t=>this.ttls[t]!==0&&this.starts[t]!==0&&(e||getNow())-this.starts[t]>this.ttls[t]}updateItemAge(e){}statusTTL(e,t){}setItemTTL(e,t,s){}isStale(e){return false}initializeSizeTracking(){this.calculatedSize=0;this.sizes=new ZeroArray(this.max);this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e];this.sizes[e]=0};this.requireSize=(e,t,s,r)=>{if(this.isBackgroundFetch(t)){return 0}if(!isPosInt(s)){if(r){if(typeof r!=="function"){throw new TypeError("sizeCalculation must be a function")}s=r(t,e);if(!isPosInt(s)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation or size "+"must be set.")}}return s};this.addItemSize=(e,t,s)=>{this.sizes[e]=t;if(this.maxSize){const t=this.maxSize-this.sizes[e];while(this.calculatedSize>t){this.evict(true)}}this.calculatedSize+=this.sizes[e];if(s){s.entrySize=t;s.totalCalculatedSize=this.calculatedSize}}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,s,r){if(s||r){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}}*indexes({allowStale:e=this.allowStale}={}){if(this.size){for(let t=this.tail;true;){if(!this.isValidIndex(t)){break}if(e||!this.isStale(t)){yield t}if(t===this.head){break}else{t=this.prev[t]}}}}*rindexes({allowStale:e=this.allowStale}={}){if(this.size){for(let t=this.head;true;){if(!this.isValidIndex(t)){break}if(e||!this.isStale(t)){yield t}if(t===this.tail){break}else{t=this.next[t]}}}}isValidIndex(e){return e!==undefined&&this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes()){if(this.valList[e]!==undefined&&this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield[this.keyList[e],this.valList[e]]}}}*rentries(){for(const e of this.rindexes()){if(this.valList[e]!==undefined&&this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield[this.keyList[e],this.valList[e]]}}}*keys(){for(const e of this.indexes()){if(this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.keyList[e]}}}*rkeys(){for(const e of this.rindexes()){if(this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.keyList[e]}}}*values(){for(const e of this.indexes()){if(this.valList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.valList[e]}}}*rvalues(){for(const e of this.rindexes()){if(this.valList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.valList[e]}}}[Symbol.iterator](){return this.entries()}find(e,t){for(const s of this.indexes()){const r=this.valList[s];const i=this.isBackgroundFetch(r)?r.__staleWhileFetching:r;if(i===undefined)continue;if(e(i,this.keyList[s],this)){return this.get(this.keyList[s],t)}}}forEach(e,t=this){for(const s of this.indexes()){const r=this.valList[s];const i=this.isBackgroundFetch(r)?r.__staleWhileFetching:r;if(i===undefined)continue;e.call(t,i,this.keyList[s],this)}}rforEach(e,t=this){for(const s of this.rindexes()){const r=this.valList[s];const i=this.isBackgroundFetch(r)?r.__staleWhileFetching:r;if(i===undefined)continue;e.call(t,i,this.keyList[s],this)}}get prune(){deprecatedMethod("prune","purgeStale");return this.purgeStale}purgeStale(){let e=false;for(const t of this.rindexes({allowStale:true})){if(this.isStale(t)){this.delete(this.keyList[t]);e=true}}return e}dump(){const e=[];for(const s of this.indexes({allowStale:true})){const r=this.keyList[s];const i=this.valList[s];const n=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(n===undefined)continue;const a={value:n};if(this.ttls){a.ttl=this.ttls[s];const e=t.now()-this.starts[s];a.start=Math.floor(Date.now()-e)}if(this.sizes){a.size=this.sizes[s]}e.unshift([r,a])}return e}load(e){this.clear();for(const[s,r]of e){if(r.start){const e=Date.now()-r.start;r.start=t.now()-e}this.set(s,r.value,r)}}dispose(e,t,s){}set(e,t,{ttl:s=this.ttl,start:r,noDisposeOnSet:i=this.noDisposeOnSet,size:n=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:o=this.noUpdateTTL,status:l}={}){n=this.requireSize(e,t,n,a);if(this.maxEntrySize&&n>this.maxEntrySize){if(l){l.set="miss";l.maxEntrySizeExceeded=true}this.delete(e);return this}let u=this.size===0?undefined:this.keyMap.get(e);if(u===undefined){u=this.newIndex();this.keyList[u]=e;this.valList[u]=t;this.keyMap.set(e,u);this.next[this.tail]=u;this.prev[u]=this.tail;this.tail=u;this.size++;this.addItemSize(u,n,l);if(l){l.set="add"}o=false}else{this.moveToTail(u);const s=this.valList[u];if(t!==s){if(this.isBackgroundFetch(s)){s.__abortController.abort(new Error("replaced"))}else{if(!i){this.dispose(s,e,"set");if(this.disposeAfter){this.disposed.push([s,e,"set"])}}}this.removeItemSize(u);this.valList[u]=t;this.addItemSize(u,n,l);if(l){l.set="replace";const e=s&&this.isBackgroundFetch(s)?s.__staleWhileFetching:s;if(e!==undefined)l.oldValue=e}}else if(l){l.set="update"}}if(s!==0&&this.ttl===0&&!this.ttls){this.initializeTTLTracking()}if(!o){this.setItemTTL(u,s,r)}this.statusTTL(l,u);if(this.disposeAfter){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}return this}newIndex(){if(this.size===0){return this.tail}if(this.size===this.max&&this.max!==0){return this.evict(false)}if(this.free.length!==0){return this.free.pop()}return this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];this.evict(true);return e}}evict(e){const t=this.head;const s=this.keyList[t];const r=this.valList[t];if(this.isBackgroundFetch(r)){r.__abortController.abort(new Error("evicted"))}else{this.dispose(r,s,"evict");if(this.disposeAfter){this.disposed.push([r,s,"evict"])}}this.removeItemSize(t);if(e){this.keyList[t]=null;this.valList[t]=null;this.free.push(t)}this.head=this.next[t];this.keyMap.delete(s);this.size--;return t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas,status:s}={}){const r=this.keyMap.get(e);if(r!==undefined){if(!this.isStale(r)){if(t){this.updateItemAge(r)}if(s)s.has="hit";this.statusTTL(s,r);return true}else if(s){s.has="stale";this.statusTTL(s,r)}}else if(s){s.has="miss"}return false}peek(e,{allowStale:t=this.allowStale}={}){const s=this.keyMap.get(e);if(s!==undefined&&(t||!this.isStale(s))){const e=this.valList[s];return this.isBackgroundFetch(e)?e.__staleWhileFetching:e}}backgroundFetch(e,t,s,i){const n=t===undefined?undefined:this.valList[t];if(this.isBackgroundFetch(n)){return n}const a=new r;if(s.signal){s.signal.addEventListener("abort",(()=>a.abort(s.signal.reason)))}const o={signal:a.signal,options:s,context:i};const cb=(r,i=false)=>{const{aborted:n}=a.signal;const u=s.ignoreFetchAbort&&r!==undefined;if(s.status){if(n&&!i){s.status.fetchAborted=true;s.status.fetchError=a.signal.reason;if(u)s.status.fetchAbortIgnored=true}else{s.status.fetchResolved=true}}if(n&&!u&&!i){return fetchFail(a.signal.reason)}if(this.valList[t]===l){if(r===undefined){if(l.__staleWhileFetching){this.valList[t]=l.__staleWhileFetching}else{this.delete(e)}}else{if(s.status)s.status.fetchUpdated=true;this.set(e,r,o.options)}}return r};const eb=e=>{if(s.status){s.status.fetchRejected=true;s.status.fetchError=e}return fetchFail(e)};const fetchFail=r=>{const{aborted:i}=a.signal;const n=i&&s.allowStaleOnFetchAbort;const o=n||s.allowStaleOnFetchRejection;const u=o||s.noDeleteOnFetchRejection;if(this.valList[t]===l){const s=!u||l.__staleWhileFetching===undefined;if(s){this.delete(e)}else if(!n){this.valList[t]=l.__staleWhileFetching}}if(o){if(s.status&&l.__staleWhileFetching!==undefined){s.status.returnedStale=true}return l.__staleWhileFetching}else if(l.__returned===l){throw r}};const pcall=(t,r)=>{this.fetchMethod(e,n,o).then((e=>t(e)),r);a.signal.addEventListener("abort",(()=>{if(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort){t();if(s.allowStaleOnFetchAbort){t=e=>cb(e,true)}}}))};if(s.status)s.status.fetchDispatched=true;const l=new Promise(pcall).then(cb,eb);l.__abortController=a;l.__staleWhileFetching=n;l.__returned=null;if(t===undefined){this.set(e,l,{...o.options,status:undefined});t=this.keyMap.get(e)}else{this.valList[t]=l}return l}isBackgroundFetch(e){return e&&typeof e==="object"&&typeof e.then==="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:n=this.noDisposeOnSet,size:a=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,fetchContext:f=this.fetchContext,forceRefresh:p=false,status:g,signal:w}={}){if(!this.fetchMethod){if(g)g.fetch="get";return this.get(e,{allowStale:t,updateAgeOnGet:s,noDeleteOnStaleGet:r,status:g})}const y={allowStale:t,updateAgeOnGet:s,noDeleteOnStaleGet:r,ttl:i,noDisposeOnSet:n,size:a,sizeCalculation:o,noUpdateTTL:l,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:d,ignoreFetchAbort:h,status:g,signal:w};let _=this.keyMap.get(e);if(_===undefined){if(g)g.fetch="miss";const t=this.backgroundFetch(e,_,y,f);return t.__returned=t}else{const r=this.valList[_];if(this.isBackgroundFetch(r)){const e=t&&r.__staleWhileFetching!==undefined;if(g){g.fetch="inflight";if(e)g.returnedStale=true}return e?r.__staleWhileFetching:r.__returned=r}const i=this.isStale(_);if(!p&&!i){if(g)g.fetch="hit";this.moveToTail(_);if(s){this.updateItemAge(_)}this.statusTTL(g,_);return r}const n=this.backgroundFetch(e,_,y,f);const a=n.__staleWhileFetching!==undefined;const o=a&&t;if(g){g.fetch=a&&i?"stale":"refresh";if(o&&i)g.returnedStale=true}return o?n.__staleWhileFetching:n.__returned=n}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:i}={}){const n=this.keyMap.get(e);if(n!==undefined){const a=this.valList[n];const o=this.isBackgroundFetch(a);this.statusTTL(i,n);if(this.isStale(n)){if(i)i.get="stale";if(!o){if(!r){this.delete(e)}if(i)i.returnedStale=t;return t?a:undefined}else{if(i){i.returnedStale=t&&a.__staleWhileFetching!==undefined}return t?a.__staleWhileFetching:undefined}}else{if(i)i.get="hit";if(o){return a.__staleWhileFetching}this.moveToTail(n);if(s){this.updateItemAge(n)}return a}}else if(i){i.get="miss"}}connect(e,t){this.prev[t]=e;this.next[e]=t}moveToTail(e){if(e!==this.tail){if(e===this.head){this.head=this.next[e]}else{this.connect(this.prev[e],this.next[e])}this.connect(this.tail,e);this.tail=e}}get del(){deprecatedMethod("del","delete");return this.delete}delete(e){let t=false;if(this.size!==0){const s=this.keyMap.get(e);if(s!==undefined){t=true;if(this.size===1){this.clear()}else{this.removeItemSize(s);const t=this.valList[s];if(this.isBackgroundFetch(t)){t.__abortController.abort(new Error("deleted"))}else{this.dispose(t,e,"delete");if(this.disposeAfter){this.disposed.push([t,e,"delete"])}}this.keyMap.delete(e);this.keyList[s]=null;this.valList[s]=null;if(s===this.tail){this.tail=this.prev[s]}else if(s===this.head){this.head=this.next[s]}else{this.next[this.prev[s]]=this.next[s];this.prev[this.next[s]]=this.prev[s]}this.size--;this.free.push(s)}}}if(this.disposed){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}return t}clear(){for(const e of this.rindexes({allowStale:true})){const t=this.valList[e];if(this.isBackgroundFetch(t)){t.__abortController.abort(new Error("deleted"))}else{const s=this.keyList[e];this.dispose(t,s,"delete");if(this.disposeAfter){this.disposed.push([t,s,"delete"])}}}this.keyMap.clear();this.valList.fill(null);this.keyList.fill(null);if(this.ttls){this.ttls.fill(0);this.starts.fill(0)}if(this.sizes){this.sizes.fill(0)}this.head=0;this.tail=0;this.initialFill=1;this.free.length=0;this.calculatedSize=0;this.size=0;if(this.disposed){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}}get reset(){deprecatedMethod("reset","clear");return this.clear}get length(){deprecatedProperty("length","size");return this.size}static get AbortController(){return r}static get AbortSignal(){return a}}e.exports=LRUCache},5286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseClass=void 0;const s={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=e=>e.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=e=>e.join("");const parseClass=(e,t)=>{const r=t;if(e.charAt(r)!=="["){throw new Error("not in a brace expression")}const i=[];const n=[];let a=r+1;let o=false;let l=false;let u=false;let c=false;let h=r;let d="";e:while(a<e.length){const t=e.charAt(a);if((t==="!"||t==="^")&&a===r+1){c=true;a++;continue}if(t==="]"&&o&&!u){h=a+1;break}o=true;if(t==="\\"){if(!u){u=true;a++;continue}}if(t==="["&&!u){for(const[t,[o,u,c]]of Object.entries(s)){if(e.startsWith(t,a)){if(d){return["$.",false,e.length-r,true]}a+=t.length;if(c)n.push(o);else i.push(o);l=l||u;continue e}}}u=false;if(d){if(t>d){i.push(braceEscape(d)+"-"+braceEscape(t))}else if(t===d){i.push(braceEscape(t))}d="";a++;continue}if(e.startsWith("-]",a+1)){i.push(braceEscape(t+"-"));a+=2;continue}if(e.startsWith("-",a+1)){d=t;a+=2;continue}i.push(braceEscape(t));a++}if(h<a){return["",false,0,false]}if(!i.length&&!n.length){return["$.",false,e.length-r,true]}if(n.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!c){const e=i[0].length===2?i[0].slice(-1):i[0];return[regexpEscape(e),false,h-r,false]}const f="["+(c?"^":"")+rangesToString(i)+"]";const p="["+(c?"":"^")+rangesToString(n)+"]";const g=i.length&&n.length?"("+f+"|"+p+")":i.length?f:p;return[g,l,h-r,true]};t.parseClass=parseClass},6070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.escape=void 0;const escape=(e,{windowsPathsNoEscape:t=false}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");t.escape=escape},8619:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(s(4949));e.exports=Object.assign(i.default,{default:i.default,minimatch:i.default})},4949:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.unescape=t.escape=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const i=r(s(8349));const n=s(5286);const a=s(6070);const o=s(1959);const minimatch=(e,t,s={})=>{assertValidPattern(t);if(!s.nocomment&&t.charAt(0)==="#"){return false}return new Minimatch(t,s).match(e)};t.minimatch=minimatch;t["default"]=t.minimatch;const l=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=e=>t=>!t.startsWith(".")&&t.endsWith(e);const starDotExtTestDot=e=>t=>t.endsWith(e);const starDotExtTestNocase=e=>{e=e.toLowerCase();return t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)};const starDotExtTestNocaseDot=e=>{e=e.toLowerCase();return t=>t.toLowerCase().endsWith(e)};const u=/^\*+\.\*+$/;const starDotStarTest=e=>!e.startsWith(".")&&e.includes(".");const starDotStarTestDot=e=>e!=="."&&e!==".."&&e.includes(".");const c=/^\.\*+$/;const dotStarTest=e=>e!=="."&&e!==".."&&e.startsWith(".");const h=/^\*+$/;const starTest=e=>e.length!==0&&!e.startsWith(".");const starTestDot=e=>e.length!==0&&e!=="."&&e!=="..";const d=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([e,t=""])=>{const s=qmarksTestNoExt([e]);if(!t)return s;t=t.toLowerCase();return e=>s(e)&&e.toLowerCase().endsWith(t)};const qmarksTestNocaseDot=([e,t=""])=>{const s=qmarksTestNoExtDot([e]);if(!t)return s;t=t.toLowerCase();return e=>s(e)&&e.toLowerCase().endsWith(t)};const qmarksTestDot=([e,t=""])=>{const s=qmarksTestNoExtDot([e]);return!t?s:e=>s(e)&&e.endsWith(t)};const qmarksTest=([e,t=""])=>{const s=qmarksTestNoExt([e]);return!t?s:e=>s(e)&&e.endsWith(t)};const qmarksTestNoExt=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")};const qmarksTestNoExtDot=([e])=>{const t=e.length;return e=>e.length===t&&e!=="."&&e!==".."};const f=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const p={win32:{sep:"\\"},posix:{sep:"/"}};t.sep=f==="win32"?p.win32.sep:p.posix.sep;t.minimatch.sep=t.sep;t.GLOBSTAR=Symbol("globstar **");t.minimatch.GLOBSTAR=t.GLOBSTAR;const g={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};const w="[^/]";const y=w+"*?";const _="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const v="(?:(?!(?:\\/|^)\\.).)*?";const charSet=e=>e.split("").reduce(((e,t)=>{e[t]=true;return e}),{});const b=charSet("().*{}+?[]^$\\!");const P=charSet("[.(");const filter=(e,s={})=>r=>(0,t.minimatch)(r,e,s);t.filter=filter;t.minimatch.filter=t.filter;const ext=(e,t={})=>Object.assign({},e,t);const defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return t.minimatch}const s=t.minimatch;const m=(t,r,i={})=>s(t,r,ext(e,i));return Object.assign(m,{Minimatch:class Minimatch extends s.Minimatch{constructor(t,s={}){super(t,ext(e,s))}static defaults(t){return s.defaults(ext(e,t)).Minimatch}},unescape:(t,r={})=>s.unescape(t,ext(e,r)),escape:(t,r={})=>s.escape(t,ext(e,r)),filter:(t,r={})=>s.filter(t,ext(e,r)),defaults:t=>s.defaults(ext(e,t)),makeRe:(t,r={})=>s.makeRe(t,ext(e,r)),braceExpand:(t,r={})=>s.braceExpand(t,ext(e,r)),match:(t,r,i={})=>s.match(t,r,ext(e,i)),sep:s.sep,GLOBSTAR:t.GLOBSTAR})};t.defaults=defaults;t.minimatch.defaults=t.defaults;const braceExpand=(e,t={})=>{assertValidPattern(e);if(t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return(0,i.default)(e)};t.braceExpand=braceExpand;t.minimatch.braceExpand=t.braceExpand;const T=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>T){throw new TypeError("pattern is too long")}};const makeRe=(e,t={})=>new Minimatch(e,t).makeRe();t.makeRe=makeRe;t.minimatch.makeRe=t.makeRe;const match=(e,t,s={})=>{const r=new Minimatch(t,s);e=e.filter((e=>r.match(e)));if(r.options.nonull&&!e.length){e.push(t)}return e};t.match=match;t.minimatch.match=t.match;const globUnescape=e=>e.replace(/\\(.)/g,"$1");const S=/[?*]|[+@!]\(.*?\)|\[|\]/;const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){assertValidPattern(e);t=t||{};this.options=t;this.pattern=e;this.platform=t.platform||f;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!t.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!t.nonegate;this.comment=false;this.empty=false;this.partial=!!t.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=t.windowsNoMagicRoot!==undefined?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const e of this.set){for(const t of e){if(typeof t!=="string")return true}}return false}debug(...e){}make(){const e=this.pattern;const t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(t.debug){this.debug=(...e)=>console.error(...e)}this.debug(this.pattern,this.globSet);const s=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(s);this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,s)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=e[0]===""&&e[1]===""&&(e[2]==="?"||!S.test(e[2]))&&!S.test(e[3]);const s=/^[a-z]:/i.test(e[0]);if(t){return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))]}else if(s){return[e[0],...e.slice(1).map((e=>this.parse(e)))]}}return e.map((e=>this.parse(e)))}));this.debug(this.pattern,r);this.set=r.filter((e=>e.indexOf(false)===-1));if(this.isWindows){for(let e=0;e<this.set.length;e++){const t=this.set[e];if(t[0]===""&&t[1]===""&&this.globParts[e][2]==="?"&&typeof t[3]==="string"&&/^[a-z]:$/i.test(t[3])){t[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar){for(let t=0;t<e.length;t++){for(let s=0;s<e[t].length;s++){if(e[t][s]==="**"){e[t][s]="*"}}}}const{optimizationLevel:t=1}=this.options;if(t>=2){e=this.firstPhasePreProcess(e);e=this.secondPhasePreProcess(e)}else if(t>=1){e=this.levelOneOptimize(e)}else{e=this.adjascentGlobstarOptimize(e)}return e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;while(-1!==(t=e.indexOf("**",t+1))){let s=t;while(e[s+1]==="**"){s++}if(s!==t){e.splice(t,s-t)}}return e}))}levelOneOptimize(e){return e.map((e=>{e=e.reduce(((e,t)=>{const s=e[e.length-1];if(t==="**"&&s==="**"){return e}if(t===".."){if(s&&s!==".."&&s!=="."&&s!=="**"){e.pop();return e}}e.push(t);return e}),[]);return e.length===0?[""]:e}))}levelTwoFileOptimize(e){if(!Array.isArray(e)){e=this.slashSplit(e)}let t=false;do{t=false;if(!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const r=e[s];if(s===1&&r===""&&e[0]==="")continue;if(r==="."||r===""){t=true;e.splice(s,1);s--}}if(e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")){t=true;e.pop()}}let s=0;while(-1!==(s=e.indexOf("..",s+1))){const r=e[s-1];if(r&&r!=="."&&r!==".."&&r!=="**"){t=true;e.splice(s-1,2);s-=2}}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=false;do{t=false;for(let s of e){let r=-1;while(-1!==(r=s.indexOf("**",r+1))){let i=r;while(s[i+1]==="**"){i++}if(i>r){s.splice(r+1,i-r)}let n=s[r+1];const a=s[r+2];const o=s[r+3];if(n!=="..")continue;if(!a||a==="."||a===".."||!o||o==="."||o===".."){continue}t=true;s.splice(r,1);const l=s.slice(0);l[r]="**";e.push(l);r--}if(!this.preserveMultipleSlashes){for(let e=1;e<s.length-1;e++){const r=s[e];if(e===1&&r===""&&s[0]==="")continue;if(r==="."||r===""){t=true;s.splice(e,1);e--}}if(s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")){t=true;s.pop()}}let i=0;while(-1!==(i=s.indexOf("..",i+1))){const e=s[i-1];if(e&&e!=="."&&e!==".."&&e!=="**"){t=true;const e=i===1&&s[i+1]==="**";const r=e?["."]:[];s.splice(i-1,2,...r);if(s.length===0)s.push("");i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++){for(let s=t+1;s<e.length;s++){const r=this.partsMatch(e[t],e[s],!this.preserveMultipleSlashes);if(!r)continue;e[t]=r;e[s]=[]}}return e.filter((e=>e.length))}partsMatch(e,t,s=false){let r=0;let i=0;let n=[];let a="";while(r<e.length&&i<t.length){if(e[r]===t[i]){n.push(a==="b"?t[i]:e[r]);r++;i++}else if(s&&e[r]==="**"&&t[i]===e[r+1]){n.push(e[r]);r++}else if(s&&t[i]==="**"&&e[r]===t[i+1]){n.push(t[i]);i++}else if(e[r]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(a==="b")return false;a="a";n.push(e[r]);r++;i++}else if(t[i]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(a==="a")return false;a="b";n.push(t[i]);r++;i++}else{return false}}return e.length===t.length&&n}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=false;let s=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++){t=!t;s++}if(s)this.pattern=e.slice(s);this.negate=t}matchOne(e,s,r=false){const i=this.options;if(this.isWindows){const t=e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]==="string"&&/^[a-z]:$/i.test(e[3]);const r=s[0]===""&&s[1]===""&&s[2]==="?"&&typeof s[3]==="string"&&/^[a-z]:$/i.test(s[3]);if(t&&r){const t=e[3];const r=s[3];if(t.toLowerCase()===r.toLowerCase()){e[3]=r}}else if(r&&typeof e[0]==="string"){const t=s[3];const r=e[0];if(t.toLowerCase()===r.toLowerCase()){s[3]=r;s=s.slice(3)}}else if(t&&typeof s[0]==="string"){const t=e[3];if(t.toLowerCase()===s[0].toLowerCase()){s[0]=t;e=e.slice(3)}}}const{optimizationLevel:n=1}=this.options;if(n>=2){e=this.levelTwoFileOptimize(e)}this.debug("matchOne",this,{file:e,pattern:s});this.debug("matchOne",e.length,s.length);for(var a=0,o=0,l=e.length,u=s.length;a<l&&o<u;a++,o++){this.debug("matchOne loop");var c=s[o];var h=e[a];this.debug(s,c,h);if(c===false){return false}if(c===t.GLOBSTAR){this.debug("GLOBSTAR",[s,c,h]);var d=a;var f=o+1;if(f===u){this.debug("** at the end");for(;a<l;a++){if(e[a]==="."||e[a]===".."||!i.dot&&e[a].charAt(0)===".")return false}return true}while(d<l){var p=e[d];this.debug("\nglobstar while",e,d,s,f,p);if(this.matchOne(e.slice(d),s.slice(f),r)){this.debug("globstar found match!",d,l,p);return true}else{if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,d,s,f);break}this.debug("globstar swallow a segment, and continue");d++}}if(r){this.debug("\n>>> no match, partial?",e,d,s,f);if(d===l){return true}}return false}let n;if(typeof c==="string"){n=h===c;this.debug("string match",c,h,n)}else{n=c.test(h);this.debug("pattern match",c,h,n)}if(!n)return false}if(a===l&&o===u){return true}else if(a===l){return r}else if(o===u){return a===l-1&&e[a]===""}else{throw new Error("wtf?")}}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){assertValidPattern(e);const s=this.options;if(e==="**")return t.GLOBSTAR;if(e==="")return"";let r;let i=null;if(r=e.match(h)){i=s.dot?starTestDot:starTest}else if(r=e.match(l)){i=(s.nocase?s.dot?starDotExtTestNocaseDot:starDotExtTestNocase:s.dot?starDotExtTestDot:starDotExtTest)(r[1])}else if(r=e.match(d)){i=(s.nocase?s.dot?qmarksTestNocaseDot:qmarksTestNocase:s.dot?qmarksTestDot:qmarksTest)(r)}else if(r=e.match(u)){i=s.dot?starDotStarTestDot:starDotStarTest}else if(r=e.match(c)){i=dotStarTest}let a="";let o=false;let f=false;const p=[];const _=[];let v=false;let T=false;let S;let R=e.charAt(0)===".";let E=s.dot||R;const patternStart=()=>R?"":E?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";const subPatternStart=e=>e.charAt(0)==="."?"":s.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";const clearStateChar=()=>{if(v){switch(v){case"*":a+=y;o=true;break;case"?":a+=w;o=true;break;default:a+="\\"+v;break}this.debug("clearStateChar %j %j",v,a);v=false}};for(let t=0,r;t<e.length&&(r=e.charAt(t));t++){this.debug("%s\t%s %s %j",e,t,a,r);if(f){if(r==="/"){return false}if(b[r]){a+="\\"}a+=r;f=false;continue}switch(r){case"/":{return false}case"\\":clearStateChar();f=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",e,t,a,r);this.debug("call clearStateChar %j",v);clearStateChar();v=r;if(s.noext)clearStateChar();continue;case"(":{if(!v){a+="\\(";continue}const s={type:v,start:t-1,reStart:a.length,open:g[v].open,close:g[v].close};this.debug(this.pattern,"\t",s);p.push(s);a+=s.open;if(s.start===0&&s.type!=="!"){R=true;a+=subPatternStart(e.slice(t+1))}this.debug("plType %j %j",v,a);v=false;continue}case")":{const e=p[p.length-1];if(!e){a+="\\)";continue}p.pop();clearStateChar();o=true;S=e;a+=S.close;if(S.type==="!"){_.push(Object.assign(S,{reEnd:a.length}))}continue}case"|":{const s=p[p.length-1];if(!s){a+="\\|";continue}clearStateChar();a+="|";if(s.start===0&&s.type!=="!"){R=true;a+=subPatternStart(e.slice(t+1))}continue}case"[":clearStateChar();const[i,l,u,c]=(0,n.parseClass)(e,t);if(u){a+=i;T=T||l;t+=u-1;o=o||c}else{a+="\\["}continue;case"]":a+="\\"+r;continue;default:clearStateChar();a+=regExpEscape(r);break}}for(S=p.pop();S;S=p.pop()){let e;e=a.slice(S.reStart+S.open.length);this.debug(this.pattern,"setting tail",a,S);e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,s)=>{if(!s){s="\\"}return t+t+s+"|"}));this.debug("tail=%j\n   %s",e,e,S,a);const t=S.type==="*"?y:S.type==="?"?w:"\\"+S.type;o=true;a=a.slice(0,S.reStart)+t+"\\("+e}clearStateChar();if(f){a+="\\\\"}const O=P[a.charAt(0)];for(let e=_.length-1;e>-1;e--){const t=_[e];const s=a.slice(0,t.reStart);const r=a.slice(t.reStart,t.reEnd-8);let i=a.slice(t.reEnd);const n=a.slice(t.reEnd-8,t.reEnd)+i;const o=s.split(")").length;const l=s.split("(").length-o;let u=i;for(let e=0;e<l;e++){u=u.replace(/\)[+*?]?/,"")}i=u;const c=i===""?"(?:$|\\/)":"";a=s+r+i+c+n}if(a!==""&&o){a="(?=.)"+a}if(O){a=patternStart()+a}if(s.nocase&&!o&&!s.nocaseMagicOnly){o=e.toUpperCase()!==e.toLowerCase()}if(!o){return globUnescape(a)}const k=(s.nocase?"i":"")+(T?"u":"");try{const t=i?{_glob:e,_src:a,test:i}:{_glob:e,_src:a};return Object.assign(new RegExp("^"+a+"$",k),t)}catch(e){this.debug("invalid regexp",e);return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const s=this.options;const r=s.noglobstar?y:s.dot?_:v;const i=s.nocase?"i":"";let n=e.map((e=>{const s=e.map((e=>typeof e==="string"?regExpEscape(e):e===t.GLOBSTAR?t.GLOBSTAR:e._src));s.forEach(((e,i)=>{const n=s[i+1];const a=s[i-1];if(e!==t.GLOBSTAR||a===t.GLOBSTAR){return}if(a===undefined){if(n!==undefined&&n!==t.GLOBSTAR){s[i+1]="(?:\\/|"+r+"\\/)?"+n}else{s[i]=r}}else if(n===undefined){s[i-1]=a+"(?:\\/|"+r+")?"}else if(n!==t.GLOBSTAR){s[i-1]=a+"(?:\\/|\\/"+r+"\\/)"+n;s[i+1]=t.GLOBSTAR}}));return s.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");n="^(?:"+n+")$";if(this.negate)n="^(?!"+n+").*$";try{this.regexp=new RegExp(n,i)}catch(e){this.regexp=false}return this.regexp}slashSplit(e){if(this.preserveMultipleSlashes){return e.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(e)){return["",...e.split(/\/+/)]}else{return e.split(/\/+/)}}match(e,t=this.partial){this.debug("match",e,this.pattern);if(this.comment){return false}if(this.empty){return e===""}if(e==="/"&&t){return true}const s=this.options;if(this.isWindows){e=e.split("\\").join("/")}const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let n=r[r.length-1];if(!n){for(let e=r.length-2;!n&&e>=0;e--){n=r[e]}}for(let e=0;e<i.length;e++){const a=i[e];let o=r;if(s.matchBase&&a.length===1){o=[n]}const l=this.matchOne(o,a,t);if(l){if(s.flipNegate){return true}return!this.negate}}if(s.flipNegate){return false}return this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=Minimatch;var R=s(6070);Object.defineProperty(t,"escape",{enumerable:true,get:function(){return R.escape}});var E=s(1959);Object.defineProperty(t,"unescape",{enumerable:true,get:function(){return E.unescape}});t.minimatch.Minimatch=Minimatch;t.minimatch.escape=a.escape;t.minimatch.unescape=o.unescape},1959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unescape=void 0;const unescape=(e,{windowsPathsNoEscape:t=false}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");t.unescape=unescape},4663:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){if(r===undefined)r=s;var i=Object.getOwnPropertyDescriptor(t,s);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,r,i)}:function(e,t,s,r){if(r===undefined)r=s;e[r]=t[s]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))r(t,e,s);i(t,e);return t};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.PathScurry=t.Path=t.PathScurryDarwin=t.PathScurryPosix=t.PathScurryWin32=t.PathScurryBase=t.PathPosix=t.PathWin32=t.PathBase=t.ChildrenCache=t.ResolveCache=void 0;const o=a(s(9853));const l=s(1017);const u=s(7310);const c=n(s(7147));const h=s(7147);const d=h.realpathSync.native;const f=s(3292);const p=a(s(8847));const g={lstatSync:h.lstatSync,readdir:h.readdir,readdirSync:h.readdirSync,readlinkSync:h.readlinkSync,realpathSync:d,promises:{lstat:f.lstat,readdir:f.readdir,readlink:f.readlink,realpath:f.realpath}};const fsFromOption=e=>!e||e===g||e===c?g:{...g,...e,promises:{...g.promises,...e.promises||{}}};const w=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=e=>e.replace(/\//g,"\\").replace(w,"$1\\");const y=/[\\\/]/;const _=0;const v=1;const b=2;const P=4;const T=6;const S=8;const R=10;const E=12;const O=15;const k=~O;const A=16;const L=32;const M=64;const x=128;const D=256;const C=512;const j=M|x|C;const q=1023;const entToType=e=>e.isFile()?S:e.isDirectory()?P:e.isSymbolicLink()?R:e.isCharacterDevice()?b:e.isBlockDevice()?T:e.isSocket()?E:e.isFIFO()?v:_;const I=new Map;const normalize=e=>{const t=I.get(e);if(t)return t;const s=e.normalize("NFKD");I.set(e,s);return s};const U=new Map;const normalizeNocase=e=>{const t=U.get(e);if(t)return t;const s=normalize(e.toLowerCase());U.set(e,s);return s};class ResolveCache extends o.default{constructor(){super({max:256})}}t.ResolveCache=ResolveCache;class ChildrenCache extends o.default{constructor(e=16*1024){super({maxSize:e,sizeCalculation:e=>e.length+1})}}t.ChildrenCache=ChildrenCache;class PathBase{name;root;roots;parent;nocase;#m;#g;get dev(){return this.#g}#w;get mode(){return this.#w}#y;get nlink(){return this.#y}#_;get uid(){return this.#_}#v;get gid(){return this.#v}#b;get rdev(){return this.#b}#P;get blksize(){return this.#P}#T;get ino(){return this.#T}#S;get size(){return this.#S}#R;get blocks(){return this.#R}#E;get atimeMs(){return this.#E}#O;get mtimeMs(){return this.#O}#k;get ctimeMs(){return this.#k}#A;get birthtimeMs(){return this.#A}#L;get atime(){return this.#L}#M;get mtime(){return this.#M}#x;get ctime(){return this.#x}#D;get birthtime(){return this.#D}#C;#j;#q;#I;#U;#F;#V;#B;constructor(e,t=_,s,r,i,n,a){this.name=e;this.#C=i?normalizeNocase(e):normalize(e);this.#U=t&q;this.nocase=i;this.roots=r;this.root=s||this;this.#F=n;this.#q=a.fullpath;this.#I=a.relative;this.parent=a.parent;if(this.parent){this.#m=this.parent.#m}else{this.#m=fsFromOption(a.fs)}}depth(){if(this.#j!==undefined)return this.#j;if(!this.parent)return this.#j=0;return this.#j=this.parent.depth()+1}childrenCache(){return this.#F}resolve(e){if(!e){return this}const t=this.getRootString(e);const s=e.substring(t.length);const r=s.split(this.splitSep);const i=t?this.getRoot(t).#H(r):this.#H(r);return i}#H(e){let t=this;for(const s of e){t=t.child(s)}return t}children(){const e=this.#F.get(this);if(e){return e}const t=Object.assign([],{provisional:0});this.#F.set(this,t);this.#U&=~A;return t}child(e,t){if(e===""||e==="."){return this}if(e===".."){return this.parent||this}const s=this.children();const r=this.nocase?normalizeNocase(e):normalize(e);for(const e of s){if(e.#C===r){return e}}const i=this.parent?this.sep:"";const n=this.#q?this.#q+i+e:undefined;const a=this.newChild(e,_,{...t,parent:this,fullpath:n});if(!this.canReaddir()){a.#U|=x}s.push(a);return a}relative(){if(this.#I!==undefined){return this.#I}const e=this.name;const t=this.parent;if(!t){return this.#I=this.name}const s=t.relative();const r=s+(!s||!t.parent?"":this.sep)+e;return this.#I=r}fullpath(){if(this.#q!==undefined){return this.#q}const e=this.name;const t=this.parent;if(!t){return this.#q=this.name}const s=t.fullpath();const r=s+(!t.parent?"":this.sep)+e;return this.#q=r}isUnknown(){return(this.#U&O)===_}isFile(){return(this.#U&O)===S}isDirectory(){return(this.#U&O)===P}isCharacterDevice(){return(this.#U&O)===b}isBlockDevice(){return(this.#U&O)===T}isFIFO(){return(this.#U&O)===v}isSocket(){return(this.#U&O)===E}isSymbolicLink(){return(this.#U&R)===R}lstatCached(){return this.#U&L?this:undefined}readlinkCached(){return this.#V}realpathCached(){return this.#B}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#V)return true;if(!this.parent)return false;const e=this.#U&O;return!(e!==_&&e!==R||this.#U&D||this.#U&x)}calledReaddir(){return!!(this.#U&A)}isENOENT(){return!!(this.#U&x)}isNamed(e){return!this.nocase?this.#C===normalize(e):this.#C===normalizeNocase(e)}async readlink(){const e=this.#V;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=await this.#m.promises.readlink(this.fullpath());const t=this.parent.resolve(e);if(t){return this.#V=t}}catch(e){this.#N(e.code);return undefined}}readlinkSync(){const e=this.#V;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=this.#m.readlinkSync(this.fullpath());const t=this.parent.resolve(e);if(t){return this.#V=t}}catch(e){this.#N(e.code);return undefined}}#W(e){this.#U|=A;for(let t=e.provisional;t<e.length;t++){e[t].#z()}}#z(){if(this.#U&x)return;this.#U=(this.#U|x)&k;this.#$()}#$(){const e=this.children();e.provisional=0;for(const t of e){t.#z()}}#G(){this.#U|=C;this.#K()}#K(){if(this.#U&M)return;let e=this.#U;if((e&O)===P)e&=k;this.#U=e|M;this.#$()}#J(e=""){if(e==="ENOTDIR"||e==="EPERM"){this.#K()}else if(e==="ENOENT"){this.#z()}else{this.children().provisional=0}}#Q(e=""){if(e==="ENOTDIR"){const e=this.parent;e.#K()}else if(e==="ENOENT"){this.#z()}}#N(e=""){let t=this.#U;t|=D;if(e==="ENOENT")t|=x;if(e==="EINVAL"||e==="UNKNOWN"){t&=k}this.#U=t;if(e==="ENOTDIR"&&this.parent){this.parent.#K()}}#Y(e,t){return this.#X(e,t)||this.#Z(e,t)}#Z(e,t){const s=entToType(e);const r=this.newChild(e.name,s,{parent:this});const i=r.#U&O;if(i!==P&&i!==R&&i!==_){r.#U|=M}t.unshift(r);t.provisional++;return r}#X(e,t){for(let s=t.provisional;s<t.length;s++){const r=t[s];const i=this.nocase?normalizeNocase(e.name):normalize(e.name);if(i!==r.#C){continue}return this.#ee(e,r,s,t)}}#ee(e,t,s,r){const i=t.name;t.#U=t.#U&k|entToType(e);if(i!==e.name)t.name=e.name;if(s!==r.provisional){if(s===r.length-1)r.pop();else r.splice(s,1);r.unshift(t)}r.provisional++;return t}async lstat(){if((this.#U&x)===0){try{this.#te(await this.#m.promises.lstat(this.fullpath()));return this}catch(e){this.#Q(e.code)}}}lstatSync(){if((this.#U&x)===0){try{this.#te(this.#m.lstatSync(this.fullpath()));return this}catch(e){this.#Q(e.code)}}}#te(e){const{atime:t,atimeMs:s,birthtime:r,birthtimeMs:i,blksize:n,blocks:a,ctime:o,ctimeMs:l,dev:u,gid:c,ino:h,mode:d,mtime:f,mtimeMs:p,nlink:g,rdev:w,size:y,uid:v}=e;this.#L=t;this.#E=s;this.#D=r;this.#A=i;this.#P=n;this.#R=a;this.#x=o;this.#k=l;this.#g=u;this.#v=c;this.#T=h;this.#w=d;this.#M=f;this.#O=p;this.#y=g;this.#b=w;this.#S=y;this.#_=v;const b=entToType(e);this.#U=this.#U&k|b|L;if(b!==_&&b!==P&&b!==R){this.#U|=M}}#se=[];#re=false;#ie(e){this.#re=false;const t=this.#se.slice();this.#se.length=0;t.forEach((t=>t(null,e)))}readdirCB(e,t=false){if(!this.canReaddir()){if(t)e(null,[]);else queueMicrotask((()=>e(null,[])));return}const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);if(t)e(null,r);else queueMicrotask((()=>e(null,r)));return}this.#se.push(e);if(this.#re){return}this.#re=true;const r=this.fullpath();this.#m.readdir(r,{withFileTypes:true},((e,t)=>{if(e){this.#J(e.code);s.provisional=0}else{for(const e of t){this.#Y(e,s)}this.#W(s)}this.#ie(s.slice(0,s.provisional));return}))}#ne;async readdir(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const t=this.fullpath();if(this.#ne){await this.#ne}else{let resolve=()=>{};this.#ne=new Promise((e=>resolve=e));try{for(const s of await this.#m.promises.readdir(t,{withFileTypes:true})){this.#Y(s,e)}this.#W(e)}catch(t){this.#J(t.code);e.provisional=0}this.#ne=undefined;resolve()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const t=this.fullpath();try{for(const s of this.#m.readdirSync(t,{withFileTypes:true})){this.#Y(s,e)}this.#W(e)}catch(t){this.#J(t.code);e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#U&j)return false;const e=O&this.#U;if(!(e===_||e===P||e===R)){return false}return true}shouldWalk(e,t){return(this.#U&P)===P&&!(this.#U&j)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#B)return this.#B;if((C|D|x)&this.#U)return undefined;try{const e=await this.#m.promises.realpath(this.fullpath());return this.#B=this.resolve(e)}catch(e){this.#G()}}realpathSync(){if(this.#B)return this.#B;if((C|D|x)&this.#U)return undefined;try{const e=this.#m.realpathSync(this.fullpath());return this.#B=this.resolve(e)}catch(e){this.#G()}}}t.PathBase=PathBase;class PathWin32 extends PathBase{sep="\\";splitSep=y;constructor(e,t=_,s,r,i,n,a){super(e,t,s,r,i,n,a)}newChild(e,t=_,s={}){return new PathWin32(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(e){return l.win32.parse(e).root}getRoot(e){e=uncToDrive(e.toUpperCase());if(e===this.root.name){return this.root}for(const[t,s]of Object.entries(this.roots)){if(this.sameRoot(e,t)){return this.roots[e]=s}}return this.roots[e]=new PathScurryWin32(e,this).root}sameRoot(e,t=this.root.name){e=e.toUpperCase().replace(/\//g,"\\").replace(w,"$1\\");return e===t}}t.PathWin32=PathWin32;class PathPosix extends PathBase{splitSep="/";sep="/";constructor(e,t=_,s,r,i,n,a){super(e,t,s,r,i,n,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=_,s={}){return new PathPosix(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}}t.PathPosix=PathPosix;class PathScurryBase{root;rootPath;roots;cwd;#ae;#F;nocase;#m;constructor(e=process.cwd(),t,s,{nocase:r,childrenCacheSize:i=16*1024,fs:n=g}={}){this.#m=fsFromOption(n);if(e instanceof URL||e.startsWith("file://")){e=(0,u.fileURLToPath)(e)}const a=t.resolve(e);this.roots=Object.create(null);this.rootPath=this.parseRootPath(a);this.#ae=new ResolveCache;this.#F=new ChildrenCache(i);const o=a.substring(this.rootPath.length).split(s);if(o.length===1&&!o[0]){o.pop()}if(r===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=r;this.root=this.newRoot(this.#m);this.roots[this.rootPath]=this.root;let l=this.root;let c=o.length-1;const h=t.sep;let d=this.rootPath;let f=false;for(const e of o){l=l.child(e,{relative:new Array(c--).fill("..").join(h),fullpath:d+=(f?"":h)+e});f=true}this.cwd=l}depth(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.depth()}childrenCache(){return this.#F}resolve(...e){let t="";for(let s=e.length-1;s>=0;s--){const r=e[s];if(!r||r===".")continue;t=t?`${r}/${t}`:r;if(this.isAbsolute(r)){break}}const s=this.#ae.get(t);if(s!==undefined){return s}const r=this.cwd.resolve(t).fullpath();this.#ae.set(t,r);return r}relative(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relative()}basename(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.name}dirname(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s}=t;if(!e.canReaddir()){return[]}else{const t=await e.readdir();return s?t:t.map((e=>e.name))}}readdirSync(e=this.cwd,t={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true}=t;if(!e.canReaddir()){return[]}else if(s){return e.readdirSync()}else{return e.readdirSync().map((e=>e.name))}}async lstat(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstat()}lstatSync(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=await e.readlink();return t?s:s?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=e.readlinkSync();return t?s:s?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=await e.realpath();return t?s:s?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=e.realpathSync();return t?s:s?.fullpath()}async walk(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:r=false,filter:i,walkFilter:n}=t;const a=[];if(!i||i(e)){a.push(s?e:e.fullpath())}const o=new Set;const walk=(e,t)=>{o.add(e);e.readdirCB(((e,l)=>{if(e){return t(e)}let u=l.length;if(!u)return t();const next=()=>{if(--u===0){t()}};for(const e of l){if(!i||i(e)){a.push(s?e:e.fullpath())}if(r&&e.isSymbolicLink()){e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(o,n)?walk(e,next):next()))}else{if(e.shouldWalk(o,n)){walk(e,next)}else{next()}}}}),true)};const l=e;return new Promise(((e,t)=>{walk(l,(s=>{if(s)return t(s);e(a)}))}))}walkSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:r=false,filter:i,walkFilter:n}=t;const a=[];if(!i||i(e)){a.push(s?e:e.fullpath())}const o=new Set([e]);for(const e of o){const t=e.readdirSync();for(const e of t){if(!i||i(e)){a.push(s?e:e.fullpath())}let t=e;if(e.isSymbolicLink()){if(!(r&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(o,n)){o.add(t)}}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}return this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:r=false,filter:i,walkFilter:n}=t;if(!i||i(e)){yield s?e:e.fullpath()}const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){if(!i||i(e)){yield s?e:e.fullpath()}let t=e;if(e.isSymbolicLink()){if(!(r&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(a,n)){a.add(t)}}}}stream(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:r=false,filter:i,walkFilter:n}=t;const a=new p.default({objectMode:true});if(!i||i(e)){a.write(s?e:e.fullpath())}const o=new Set;const l=[e];let u=0;const process=()=>{let e=false;while(!e){const t=l.shift();if(!t){if(u===0)a.end();return}u++;o.add(t);const onReaddir=(t,h,d=false)=>{if(t)return a.emit("error",t);if(r&&!d){const e=[];for(const t of h){if(t.isSymbolicLink()){e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)))}}if(e.length){Promise.all(e).then((()=>onReaddir(null,h,true)));return}}for(const t of h){if(t&&(!i||i(t))){if(!a.write(s?t:t.fullpath())){e=true}}}u--;for(const e of h){const t=e.realpathCached()||e;if(t.shouldWalk(o,n)){l.push(t)}}if(e&&!a.flowing){a.once("drain",process)}else if(!c){process()}};let c=true;t.readdirCB(onReaddir,true);c=false}};process();return a}streamSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:r=false,filter:i,walkFilter:n}=t;const a=new p.default({objectMode:true});const o=new Set;if(!i||i(e)){a.write(s?e:e.fullpath())}const l=[e];let u=0;const process=()=>{let e=false;while(!e){const t=l.shift();if(!t){if(u===0)a.end();return}u++;o.add(t);const c=t.readdirSync();for(const t of c){if(!i||i(t)){if(!a.write(s?t:t.fullpath())){e=true}}}u--;for(const e of c){let t=e;if(e.isSymbolicLink()){if(!(r&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(o,n)){l.push(t)}}}if(e&&!a.flowing)a.once("drain",process)};process();return a}}t.PathScurryBase=PathScurryBase;class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:s=true}=t;super(e,l.win32,"\\",{...t,nocase:s});this.nocase=s;for(let e=this.cwd;e;e=e.parent){e.nocase=this.nocase}}parseRootPath(e){return l.win32.parse(e).root.toUpperCase()}newRoot(e){return new PathWin32(this.rootPath,P,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}t.PathScurryWin32=PathScurryWin32;class PathScurryPosix extends PathScurryBase{sep="/";constructor(e=process.cwd(),t={}){const{nocase:s=false}=t;super(e,l.posix,"/",{...t,nocase:s});this.nocase=s}parseRootPath(e){return"/"}newRoot(e){return new PathPosix(this.rootPath,P,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}t.PathScurryPosix=PathScurryPosix;class PathScurryDarwin extends PathScurryPosix{constructor(e=process.cwd(),t={}){const{nocase:s=true}=t;super(e,{...t,nocase:s})}}t.PathScurryDarwin=PathScurryDarwin;t.Path=process.platform==="win32"?PathWin32:PathPosix;t.PathScurry=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix},321:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.0.3","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"require":"./lib/main.js","types":"./lib/main.d.ts","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^17.0.9","decache":"^4.6.1","dtslint":"^3.7.0","sinon":"^12.0.1","standard":"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2","tap":"^15.1.6","tar":"^6.1.11","typescript":"^4.5.4"},"engines":{"node":">=12"}}')}};var t={};function __nccwpck_require__(s){var r=t[s];if(r!==undefined){return r.exports}var i=t[s]={exports:{}};var n=true;try{e[s].call(i.exports,i,i.exports,__nccwpck_require__);n=false}finally{if(n)delete t[s]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var s=__nccwpck_require__(7558);module.exports=s})();